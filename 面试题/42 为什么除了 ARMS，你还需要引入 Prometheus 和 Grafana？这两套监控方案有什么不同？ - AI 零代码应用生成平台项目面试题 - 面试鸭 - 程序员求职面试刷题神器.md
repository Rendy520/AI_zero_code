
# 为什么除了 ARMS，你还需要引入 Prometheus 和 Grafana？这两套监控方案有什么不同？

我引入 Prometheus 和 Grafana 作为 ARMS 的补充，是因为这两套方案在监控目标和灵活性上有着本质的不同，它们分别解决了不同层面的可观测性需求。

ARMS 专注于通用的系统和应用性能监控，它的强项在于通过探针技术，自动地、无侵入地监控那些对于任何 Java 应用都普遍适用的性能指标，比如接口耗时、SQL 查询性能、JVM 状态、CPU 使用率等。它的目标是帮助我们快速了解系统运行得怎么样，快速发现通用的性能瓶颈和异常。

Prometheus + Grafana 专注于自定义的业务指标监控，监控那些与我们平台核心业务逻辑紧密相关的、ARMS 无法自动感知的指标。比如：

-   哪个模型被调用得最多？
-   哪个用户、哪个应用消耗的Token最多？
-   不同模型的调用成功率分别是多少？
-   哪些用户是平台的高频使用者？

这些指标需要我们通过在业务代码中手动埋点来采集。Prometheus 负责高效地存储这些时序数据，而 Grafana 则负责将这些数据以丰富的图表和仪表盘进行可视化展示，这两套方案的关系是互补的，同时使用这两套方案，我构建了一套从底层系统到上层业务的全方位、立体化的可观测性体系。

![img](https://pic.code-nav.cn/mianshiya/question_picture/markdown/xhxU4uvI_1755099021246-329ed3d8-b29c-4511-9cb1-0023058a933f_mianshiya.png)
