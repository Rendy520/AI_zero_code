
# 你是如何设计前端路由的？对于需要管理员权限的页面，在前端层面做了哪些访问控制？

## 

12070\. 你是如何设计前端路由的？对于需要管理员权限的页面，在前端层面做了哪些访问控制？ 

前端路由是使用 Vue Router 在 `router/index.ts` 文件中进行集中式设计的。每个路由都定义了 `path`、`name` 和对应的 `component`，对于部分页面还采用了路由懒加载（`() => import(...)`）来优化首屏加载性能。

对于需要管理员权限的页面，前端从路由拦截和界面隐藏两个层面做了访问控制：

1.  路由拦截：项目中使用了一个全局前置路由守卫 `router.beforeEach`，它在每次路由跳转前执行。守卫首先会从 Pinia 的 `loginUserStore` 中获取当前用户的登录信息和角色，检查目标路由的路径是否以 `/admin` 开头，以此判断是否为管理员页面。如果目标页面需要管理员权限，但当前用户未登录或角色不是 `admin`，守卫会中断当前的导航，向用户显示没有权限的提示。
2.  界面隐藏：为了提供更好的用户体验并增强安全性，除了路由拦截外，前端界面上也会隐藏用户无权访问的入口。在全局导航栏组件 `GlobalHeader` 中，菜单项列表会根据用户的角色动态生成。组件会检查 `loginUserStore` 中的用户角色，如果不是管理员，则在渲染菜单时会直接过滤掉指向 `/admin` 路径的菜单项。这样，普通用户就根本看不到他们无权访问的页面的链接。

作者：![](https://pic.code-nav.cn/user_avatar/1772087337535152129/thumbnail/8stgwMmT-50265-logo.3c8859f8.png)

分享最高赚 ¥64.5

![微信小程序](https://www.mianshiya.com/assets/svg/miniapp.svg)

[![Ray丶丶 的用户头像](https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqhf9NQyvibXhNGyhziaOsh2cB0FTiaLuXaS0FWdzw2lnYq1bHIheOW8Oue3CCZ46f6S4WiaicazuTiaQLQ/132)](https://www.mianshiya.com/user/1821431596438986753)

![面试鸭](https://www.mianshiya.com/_next/image?url=%2Flogo.png&w=96&q=75)

##### 面试鸭

##### 友情链接

##### 联系我们

##### 关注我们

![微信公众号 | 面试鸭](https://www.mianshiya.com/_next/image?url=%2Fassets%2Fwxmpqrcode.jpg&w=256&q=75)扫码关注  
面试鸭公众号
