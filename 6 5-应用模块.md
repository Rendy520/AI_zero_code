---
created: 2025-12-29T15:54:12 (UTC +08:00)
tags: [,Java,Python,JavaScript,å‰ç«¯,Cè¯­è¨€,C++,Goè¯­è¨€,ç¨‹åºå‘˜,ç¼–ç¨‹å­¦ä¹ ,ITæ•™ç¨‹,è‡ªå­¦ç¼–ç¨‹,è½¯ä»¶å¼€å‘,é¡¹ç›®å®æˆ˜,ç¼–ç¨‹å¯¼èˆª,å¼€å‘è€…äº¤æµç¤¾åŒº,ç¼–ç¨‹èµ„æº,è®¡ç®—æœº]
source: https://www.codefather.cn/course/1948291549923344386/section/1950761936318550017
author: 
---

# 5 - åº”ç”¨æ¨¡å— - ã€å¤§å‚å¿…å¤‡ã€‘LangChain4j + å·¥ä½œæµ

> ## Excerpt
> æœ¬èŠ‚é‡ç‚¹ åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº† AI ç”Ÿæˆåº”ç”¨çš„åŸºç¡€åŠŸèƒ½ï¼Œä½†ç›®å‰çš„ç³»ç»Ÿè¿˜æ˜¯æœ¬åœ°ç‰ˆæœ¬ï¼Œç¼ºä¹å®Œæ•´çš„åº”ç”¨ç®¡ç†èƒ½åŠ›ã€‚æœ¬èŠ‚æˆ‘ä»¬å°† ä»ç®€å•çš„ä»£ç ç”Ÿæˆå·¥å…·å‡çº§ä¸ºå®Œæ•´çš„å¹³å°ï¼Œå®ç°åº”ç”¨åˆ›å»ºã€‚ç¼–ç¨‹å¯¼èˆªæ•™ç¨‹åˆ†äº«ï¼Œåšæ‚¨ç¼–ç¨‹å­¦ä¹ è·¯ä¸Šçš„å¯¼èˆªå‘˜ã€‚

---
## æœ¬èŠ‚é‡ç‚¹

åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº† AI ç”Ÿæˆåº”ç”¨çš„åŸºç¡€åŠŸèƒ½ï¼Œä½†ç›®å‰çš„ç³»ç»Ÿè¿˜æ˜¯æœ¬åœ°ç‰ˆæœ¬ï¼Œç¼ºä¹å®Œæ•´çš„åº”ç”¨ç®¡ç†èƒ½åŠ›ã€‚æœ¬èŠ‚æˆ‘ä»¬å°† **ä»ç®€å•çš„ä»£ç ç”Ÿæˆå·¥å…·å‡çº§ä¸ºå®Œæ•´çš„å¹³å°**ï¼Œå®ç°åº”ç”¨åˆ›å»ºã€ç”Ÿæˆã€æµè§ˆã€éƒ¨ç½²ã€ç®¡ç†çš„å…¨æµç¨‹ã€‚

æœ¬èŠ‚ä¸»è¦å†…å®¹ï¼šp+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

-   åŸºç¡€åº”ç”¨èƒ½åŠ›ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
-   åº”ç”¨ç®¡ç†
-   åº”ç”¨ç”Ÿæˆ
-   åº”ç”¨éƒ¨ç½²ï¼ˆ3 ç§æ–¹æ¡ˆï¼‰
-   å‰ç«¯é¡µé¢ç”Ÿæˆå’Œä¼˜åŒ–

å‹æƒ…æç¤ºï¼Œæœ¬èŠ‚å‰ç«¯éƒ¨åˆ†æ¶‰åŠå¤§é‡ Vibe Coâ dingï¼Œæœ€å¥½å‡†å¤‡ä¸€æ¬¾ AI â ä»£ç ç”Ÿæˆ IDEï¼Œæ•ˆæœå·®ç‚¹æ²¡å…³ç³»ï¼Œä¸»è¦å­¦ä¹ çš„è¿˜æ˜¯ AI ç¼–ç¨‹çš„æ€è·¯å’Œæç¤ºè¯ç¼–å†™æŠ€å·§ã€‚

## ä¸€ã€éœ€æ±‚åˆ†æ

ä¹‹å‰æˆ‘ä»¬å®ç°çš„æ˜¯å•æœºç‰ˆæœ¬ï¼Œç”¨æˆ·åªèƒ½åœ¨â æœ¬åœ°ç”Ÿæˆä»£ç æ–‡ä»¶ã€‚ç°åœ¨æˆ‘â ä»¬è¦å°†å…¶å‡çº§ä¸ºå¹³å°åŒ–ç³»ç»Ÿï¼Œè¿™æ„å‘³ç€éœ€è¦æ”¯æŒå¤šç”¨æˆ·ã€åº”ç”¨ç®¡ç†ã€åœ¨çº¿éƒ¨ç½²ç­‰åŠŸèƒ½ã€‚

éœ€è¦çš„å…·ä½“åŠŸèƒ½åŒ…æ‹¬ï¼šâ€‚â€‚â€‚â€‚â â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â â€‚â€‚â€‚â€‰â€‰â€‰â€‰â€‰â€‚â€‰â€‰â€‰â€‰â€‚â€‚â€‚â€‰â€‚â€‚

-   ç”¨æˆ·åŸºç¡€åŠŸèƒ½
    
-   åˆ›å»ºåº”ç”¨
    
-   ç¼–è¾‘åº”ç”¨ä¿¡æ¯
    
-   åˆ é™¤è‡ªå·±çš„åº”ç”¨
    
-   æŸ¥çœ‹åº”ç”¨è¯¦æƒ…
    
-   åˆ†é¡µæŸ¥è¯¢è‡ªå·±çš„åº”ç”¨åˆ—è¡¨
    
-   åˆ†é¡µæŸ¥çœ‹ç²¾é€‰åº”ç”¨åˆ—è¡¨
    
-   ç”¨æˆ·é«˜çº§åŠŸèƒ½
    
-   â­ï¸ å®æ—¶æŸ¥çœ‹åº”ç”¨æ•ˆæœ
    
-   â­ï¸ åº”ç”¨éƒ¨ç½²
    
-   ç®¡ç†åŠŸèƒ½
    
-   ç®¡ç†æ‰€æœ‰åº”ç”¨ï¼ˆåˆ é™¤ã€æŸ¥è¯¢ã€ä¿®æ”¹ï¼‰
    
-   è®¾ç½®ç²¾é€‰åº”ç”¨
    

åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œ70% çš„â åº”ç”¨åŠŸèƒ½ï¼Œéƒ½å°†åœ¨æœ¬â èŠ‚å®Œæˆï¼Œä»»åŠ¡è‰°å·¨å‘€ã€‚

## äºŒã€æ–¹æ¡ˆè®¾è®¡

### æ ¸å¿ƒä¸šåŠ¡æµç¨‹

å¹³å°åŒ–æ”¹é€ çš„æ ¸å¿ƒåœ¨äº **å»ºç«‹å®Œæ•´çš„åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ä½“ç³»**ã€‚

ç”¨æˆ·åœ¨ä¸»é¡µè¾“å…¥æç¤ºè¯åï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªåº”ç”¨è®°å½•â ï¼Œç„¶åè·³è½¬åˆ°å¯¹è¯é¡µé¢ä¸ AI â äº¤äº’ç”Ÿæˆç½‘ç«™ã€‚ç”Ÿæˆå®Œæˆåï¼Œç”¨æˆ·å¯ä»¥é¢„è§ˆæ•ˆæœï¼Œæ»¡æ„åè¿›è¡Œéƒ¨ç½²ï¼Œè®©ç½‘ç«™çœŸæ­£å¯¹å¤–æä¾›æœåŠ¡ã€‚

è¿™ä¸ªæµç¨‹çœ‹ä¼¼ç®€å•ï¼Œä½†æ¶‰åŠåˆ°æ•°æ®å­˜å‚¨â ã€æƒé™æ§åˆ¶ã€æ–‡ä»¶ç®¡ç†ã€â ç½‘ç«™éƒ¨ç½²ç­‰å¤šä¸ªæŠ€æœ¯ç¯èŠ‚ã€‚æˆ‘ä»¬éœ€è¦è®¾è®¡åˆç†çš„æ•°æ®æ¨¡å‹æ¥æ”¯æ’‘è¿™äº›åŠŸèƒ½ã€‚nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

### åº“è¡¨è®¾è®¡

åº”ç”¨è¡¨æ˜¯æ•´ä¸ªé¡¹ç›®çš„æ ¸å¿ƒï¼Œéœ€è¦â è®°å½•åº”ç”¨çš„åŸºæœ¬ä¿¡æ¯â ã€ç”Ÿæˆé…ç½®ã€éƒ¨ç½²ä¿¡æ¯ç­‰ã€‚

å…¶ä¸­æœ€å…³é”®çš„æ˜¯ `deployKey` å­—æ®µã€‚ç”±äºæ¯ä¸ªç½‘ç«™åº”ç”¨æ–‡ä»¶çš„éƒ¨ç½²éƒ½æ˜¯éš”ç¦»çš„ï¼ˆæƒ³è±¡æˆæ²™ç®±ï¼‰ï¼Œéœ€è¦ç”¨å”¯ä¸€å­—æ®µæ¥åŒºåˆ†ï¼Œå¯ä»¥ä½œä¸ºåº”ç”¨çš„å­˜å‚¨å’Œè®¿é—®è·¯å¾„ï¼›è€Œä¸”ä¸ºäº†ä¾¿äºè®¿é—®ï¼Œæ¯ä¸ªåº”ç”¨çš„è®¿é—®è·¯å¾„ä¸èƒ½å¤ªé•¿ã€‚nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

è¿™é‡Œæˆ‘ä»¬å‚è€ƒç¾å›¢ NoCodeâ  ç­‰å¹³å°çš„è®¾è®¡ï¼Œå°† â deployKey è®¾ç½®ä¸º 6 ä½è‹±æ–‡æ•°å­—ç»„æˆçš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚

app è¡¨çš„å»ºè¡¨ SQL å¦‚ä¸‹ï¼š

```sql
-- åº”ç”¨è¡¨
create table app
(
    id           bigint auto_increment comment 'id' primary key,
    appName      varchar(256)                       null comment 'åº”ç”¨åç§°',
    cover        varchar(512)                       null comment 'åº”ç”¨å°é¢',
    initPrompt   text                               null comment 'åº”ç”¨åˆå§‹åŒ–çš„ prompt',
    codeGenType  varchar(64)                        null comment 'ä»£ç ç”Ÿæˆç±»å‹ï¼ˆæšä¸¾ï¼‰',
    deployKey    varchar(64)                        null comment 'éƒ¨ç½²æ ‡è¯†',
    deployedTime datetime                           null comment 'éƒ¨ç½²æ—¶é—´',
    priority     int      default 0                 not null comment 'ä¼˜å…ˆçº§',
    userId       bigint                             not null comment 'åˆ›å»ºç”¨æˆ·id',
    editTime     datetime default CURRENT_TIMESTAMP not null comment 'ç¼–è¾‘æ—¶é—´',
    createTime   datetime default CURRENT_TIMESTAMP not null comment 'åˆ›å»ºæ—¶é—´',
    updateTime   datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment 'æ›´æ–°æ—¶é—´',
    isDelete     tinyint  default 0                 not null comment 'æ˜¯å¦åˆ é™¤',
    UNIQUE KEY uk_deployKey (deployKey), -- ç¡®ä¿éƒ¨ç½²æ ‡è¯†å”¯ä¸€
    INDEX idx_appName (appName),         -- æå‡åŸºäºåº”ç”¨åç§°çš„æŸ¥è¯¢æ€§èƒ½
    INDEX idx_userId (userId)            -- æå‡åŸºäºç”¨æˆ· ID çš„æŸ¥è¯¢æ€§èƒ½
) comment 'åº”ç”¨' collate = utf8mb4_unicode_ci;
```

è¿™ä¸ªè®¾è®¡ä¸­æœ‰å‡ ä¸ªå€¼å¾—æ³¨æ„çš„ç»†èŠ‚ï¼š

1ï¼‰`priority` ä¼˜å…ˆçº§å­—æ®µï¼šæˆ‘ä»¬çº¦å®š 99 è¡¨ç¤ºç²¾é€‰åº”ç”¨ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸»é¡µå±•ç¤ºé«˜è´¨é‡çš„åº”ç”¨ï¼Œé¿å…ç”¨æˆ·çœ‹åˆ°å¤§é‡æµ‹è¯•å†…å®¹ã€‚

ä¸ºä»€ä¹ˆç”¨æ•°å­—è€Œä¸ç”¨æšä¸¾ç±»å‹å‘¢ï¼ŸåŸå› â æ˜¯è¿™æ ·æ›´åˆ©äºæ‰©å±•ï¼Œæ¯”å¦‚â çº¦å®š 999 è¡¨ç¤ºç½®é¡¶ï¼›è¿˜å¯ä»¥æ ¹æ®æ•°å­—çµæ´»è°ƒæ•´å„ä¸ªåº”ç”¨çš„å…·ä½“å±•ç¤ºé¡ºåºã€‚EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

2ï¼‰æ·»åŠ ç´¢å¼•ï¼šç»™ deployKeâ yã€appNameã€uâ serId ä¸‰ä¸ªç»å¸¸ç”¨äºä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µå¢åŠ ç´¢å¼•ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½ã€‚

æ³¨æ„ï¼Œæˆ‘ä»¬æš‚æ—¶ä¸è€ƒè™‘å°†åº”ç”¨ä»£ç ç›´æ¥ä¿å­˜åˆ°æ•°â æ®åº“å­—æ®µä¸­ï¼Œè€Œæ˜¯ä¿å­˜åœ¨æ–‡ä»¶ç³»â ç»Ÿé‡Œã€‚è¿™æ ·å¯ä»¥é¿å…æ•°æ®åº“å’Œæ–‡ä»¶å­˜å‚¨ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œä¹Ÿä¾¿äºåç»­æ‰©å±•åˆ°å¯¹è±¡å­˜å‚¨ç­‰æ–¹æ¡ˆã€‚

___

ä¸‹é¢æˆ‘ä»¬å…ˆæŠŠåº”ç”¨æ¨¡å—åç«¯å¼€å‘å®Œï¼Œå†æå‰ç«¯ã€‚

## ä¸‰ã€åŸºç¡€åº”ç”¨èƒ½åŠ›ï¼ˆåç«¯ï¼‰

åç«¯å¼€å‘æœ€ç»ˆçš„ç›®æ ‡æ˜¯æä¾›æ¥å£â ï¼Œæˆ‘ä»¬å…ˆæ¥å®ç°ä¸€äº›â åŸºç¡€çš„æ¥å£ï¼Œä¹Ÿå°±æ˜¯ â€œå¢åˆ æ”¹æŸ¥â€ï¼šUzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

-   ã€ç”¨æˆ·ã€‘åˆ›å»ºåº”ç”¨ï¼ˆé¡»å¡«å†™ initPromptï¼‰
-   ã€ç”¨æˆ·ã€‘æ ¹æ® id ä¿®æ”¹è‡ªå·±çš„åº”ç”¨ï¼ˆç›®å‰åªæ”¯æŒä¿®æ”¹åº”ç”¨åç§°ï¼‰
-   ã€ç”¨æˆ·ã€‘æ ¹æ® id åˆ é™¤è‡ªå·±çš„åº”ç”¨
-   ã€ç”¨æˆ·ã€‘æ ¹æ® id æŸ¥çœ‹åº”ç”¨è¯¦æƒ…
-   ã€ç”¨æˆ·ã€‘åˆ†é¡µæŸ¥è¯¢è‡ªå·±çš„åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®åç§°æŸ¥è¯¢ï¼Œæ¯é¡µæœ€å¤š 20 ä¸ªï¼‰
-   ã€ç”¨æˆ·ã€‘åˆ†é¡µæŸ¥è¯¢ç²¾é€‰çš„åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®åç§°æŸ¥è¯¢ï¼Œæ¯é¡µæœ€å¤š 20 ä¸ªï¼‰
-   ã€ç®¡ç†å‘˜ã€‘æ ¹æ® id åˆ é™¤ä»»æ„åº”ç”¨
-   ã€ç®¡ç†å‘˜ã€‘æ ¹æ® id æ›´æ–°ä»»æ„åº”ç”¨ï¼ˆæ”¯æŒæ›´æ–°åº”ç”¨åç§°ã€åº”ç”¨å°é¢ã€ä¼˜å…ˆçº§ï¼‰
-   ã€ç®¡ç†å‘˜ã€‘åˆ†é¡µæŸ¥è¯¢åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®é™¤æ—¶é—´å¤–çš„ä»»ä½•å­—æ®µæŸ¥è¯¢ï¼Œæ¯é¡µæ•°é‡ä¸é™ï¼‰
-   ã€ç®¡ç†å‘˜ã€‘æ ¹æ® id æŸ¥çœ‹åº”ç”¨è¯¦æƒ…

æ³¨æ„ï¼Œéœ€æ±‚æè¿°åœ°è¶Šæ¸…æ¥šï¼Œåé¢â å¼€å‘è¶Šé¡ºç•…ï¼Œå°¤å…¶æ˜¯â å¯ä»¥ç›´æ¥ä½œä¸º AI çš„æç¤ºè¯ã€‚

### åŸºç¡€ä»£ç ç”Ÿæˆ

é¦–å…ˆä½¿ç”¨ MyBatis Fâ lex ä»£ç ç”Ÿæˆå™¨â ç”ŸæˆåŸºç¡€çš„ CRUD ä»£ç ï¼Œè¿™èƒ½å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚

ç”Ÿæˆä»£ç åï¼Œç§»åŠ¨ä»£ç åˆ°å¯¹åº”çš„ä½ç½®ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/HCxoNalXScdsqi8d.webp)dWCTYpHEFA/xV8BrvOpKRqkO1d88b9Ip8VkvBeLuZho=

ç„¶åä¿®æ”¹ App å®ä½“ç±»ä¸­ â id çš„ç”Ÿæˆæ–¹å¼ï¼Œâ æ”¹ä¸ºé›ªèŠ±ç®—æ³•ï¼š

```java
@Id(keyType = KeyType.Generator, value = KeyGenerators.snowFlakeId)
private Long id;
```

### ä¸šåŠ¡ä»£ç ç”Ÿæˆ - Vibe Coding

ç”±äºä¹‹å‰å·²ç»å¼€å‘è¿‡ç”¨æˆ·æ¨¡å—ï¼Œé¡¹ç›®å†…å·²ç»æœ‰äº†æˆ‘ä»¬è‡ªå·±çš„â å¼€å‘é£æ ¼ï¼Œå¯ä»¥ä½œä¸º AI çš„å‚â è€ƒäº†ã€‚å› æ­¤è¿™æ¬¡æˆ‘ä»¬ä¸å†äººå·¥ç¼–å†™å¢åˆ æ”¹æŸ¥ä»£ç ï¼Œè€Œæ˜¯å°†æ˜ç¡®çš„éœ€æ±‚æè¿°æä¾›ç»™ AIï¼Œè®©å®ƒæ¥ç”Ÿæˆä¸šåŠ¡ä»£ç ã€‚

åœ¨ Cursor ä¸­æ‰“å¼€ **åç«¯é¡¹ç›®æ ¹ç›®å½•**ï¼Œæ‰§è¡Œä»¥ä¸‹æç¤ºè¯ï¼š

```markdown
è¯·å‚è€ƒé¡¹ç›®ä¸­å·²æœ‰çš„ User æ¨¡å—çš„æ–‡ä»¶å’Œä»£ç é£æ ¼ï¼Œå¸®æˆ‘æ ¹æ®ä¸‹åˆ—éœ€æ±‚ï¼Œç”Ÿæˆå®Œæ•´çš„ App æ¨¡å—çš„ä»£ç ã€‚

éœ€è¦çš„åŠŸèƒ½å¦‚ä¸‹ï¼š
-ã€ç”¨æˆ·ã€‘åˆ›å»ºåº”ç”¨ï¼ˆé¡»å¡«å†™ initPromptï¼‰
-ã€ç”¨æˆ·ã€‘æ ¹æ® id ä¿®æ”¹è‡ªå·±çš„åº”ç”¨ï¼ˆç›®å‰åªæ”¯æŒä¿®æ”¹åº”ç”¨åç§°ï¼‰
-ã€ç”¨æˆ·ã€‘æ ¹æ® id åˆ é™¤è‡ªå·±çš„åº”ç”¨
-ã€ç”¨æˆ·ã€‘æ ¹æ® id æŸ¥çœ‹åº”ç”¨è¯¦æƒ…
-ã€ç”¨æˆ·ã€‘åˆ†é¡µæŸ¥è¯¢è‡ªå·±çš„åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®åç§°æŸ¥è¯¢ï¼Œæ¯é¡µæœ€å¤š 20 ä¸ªï¼‰
-ã€ç”¨æˆ·ã€‘åˆ†é¡µæŸ¥è¯¢ç²¾é€‰çš„åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®åç§°æŸ¥è¯¢ï¼Œæ¯é¡µæœ€å¤š 20 ä¸ªï¼‰
-ã€ç®¡ç†å‘˜ã€‘æ ¹æ® id åˆ é™¤ä»»æ„åº”ç”¨
-ã€ç®¡ç†å‘˜ã€‘æ ¹æ® id æ›´æ–°ä»»æ„åº”ç”¨ï¼ˆæ”¯æŒæ›´æ–°åº”ç”¨åç§°ã€åº”ç”¨å°é¢ã€ä¼˜å…ˆçº§ï¼‰
-ã€ç®¡ç†å‘˜ã€‘åˆ†é¡µæŸ¥è¯¢åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®é™¤æ—¶é—´å¤–çš„ä»»ä½•å­—æ®µæŸ¥è¯¢ï¼Œæ¯é¡µæ•°é‡ä¸é™ï¼‰
-ã€ç®¡ç†å‘˜ã€‘æ ¹æ® id æŸ¥çœ‹åº”ç”¨è¯¦æƒ…
```

AI ä¼šè‡ªåŠ¨åˆ†æé¡¹ç›®ç»“æ„ï¼Œç”Ÿâ æˆç¬¦åˆç°æœ‰ä»£ç é£æ ¼â çš„å®Œæ•´ä¸šåŠ¡ä»£ç ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/QXJ9mYRPig3BgH2U.webp)

æ¯ä¸ªäººæ‰§è¡Œ AI å¾—åˆ°çš„ç»“æœåº”è¯¥æ˜¯ä¸åŒçš„ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯ï¼šcZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/g8Koj2IrkfdhCgYr.webp)

æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å¯¹ç…§éœ€æ±‚ï¼Œé€ä¸€æ£€æŸ¥å’Œå®Œå–„ç”Ÿæˆçš„ä»£ç ã€‚

### æ ¸å¿ƒåŠŸèƒ½å®ç°

#### åˆ›å»ºåº”ç”¨

ç”¨æˆ·åˆ›å»ºåº”ç”¨æ—¶ï¼Œåªéœ€è¦å¡«å†™åˆâ å§‹åŒ–æç¤ºè¯ã€‚ç³»ç»Ÿä¼šâ è‡ªåŠ¨ç”Ÿæˆåº”ç”¨åç§°ï¼ˆå–æç¤ºè¯å‰ 12 ä½ï¼‰å’Œé»˜è®¤çš„ä»£ç ç”Ÿæˆç±»å‹ã€‚

è¯·æ±‚ç±»ï¼šWBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

```java
@Data
public class AppAddRequest implements Serializable {

    /**
     * åº”ç”¨åˆå§‹åŒ–çš„ prompt
     */
    private String initPrompt;

    private static final long serialVersionUID = 1L;
}
```

æ¥å£ä»£ç ï¼š

```java
/**
 * åˆ›å»ºåº”ç”¨
 *
 * @param appAddRequest åˆ›å»ºåº”ç”¨è¯·æ±‚
 * @param request       è¯·æ±‚
 * @return åº”ç”¨ id
 */
@PostMapping("/add")
public BaseResponse<Long> addApp(@RequestBody AppAddRequest appAddRequest, HttpServletRequest request) {
    ThrowUtils.throwIf(appAddRequest == null, ErrorCode.PARAMS_ERROR);
    // å‚æ•°æ ¡éªŒ
    String initPrompt = appAddRequest.getInitPrompt();
    ThrowUtils.throwIf(StrUtil.isBlank(initPrompt), ErrorCode.PARAMS_ERROR, "åˆå§‹åŒ– prompt ä¸èƒ½ä¸ºç©º");
    // è·å–å½“å‰ç™»å½•ç”¨æˆ·
    User loginUser = userService.getLoginUser(request);
    // æ„é€ å…¥åº“å¯¹è±¡
    App app = new App();
    BeanUtil.copyProperties(appAddRequest, app);
    app.setUserId(loginUser.getId());
    // åº”ç”¨åç§°æš‚æ—¶ä¸º initPrompt å‰ 12 ä½
    app.setAppName(initPrompt.substring(0, Math.min(initPrompt.length(), 12)));
    // æš‚æ—¶è®¾ç½®ä¸ºå¤šæ–‡ä»¶ç”Ÿæˆ
    app.setCodeGenType(CodeGenTypeEnum.MULTI_FILE.getValue());
    // æ’å…¥æ•°æ®åº“
    boolean result = appService.save(app);
    ThrowUtils.throwIf(!result, ErrorCode.OPERATION_ERROR);
    return ResultUtils.success(app.getId());
}
```

#### æ›´æ–°åº”ç”¨

ç”¨æˆ·æ›´æ–°åº”ç”¨æ—¶ï¼Œéœ€è¦è¿›è¡Œæƒé™æ ¡éªŒï¼Œç¡®ä¿åªèƒ½ä¿®æ”¹è‡ªå·±çš„åº”ç”¨ã€‚

è¯·æ±‚ç±»ï¼šF+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

```java
@Data
public class AppUpdateRequest implements Serializable {

    /**
     * id
     */
    private Long id;

    /**
     * åº”ç”¨åç§°
     */
    private String appName;

    private static final long serialVersionUID = 1L;
}
```

æ¥å£ä»£ç ï¼š

```java
/**
 * æ›´æ–°åº”ç”¨ï¼ˆç”¨æˆ·åªèƒ½æ›´æ–°è‡ªå·±çš„åº”ç”¨åç§°ï¼‰
 *
 * @param appUpdateRequest æ›´æ–°è¯·æ±‚
 * @param request          è¯·æ±‚
 * @return æ›´æ–°ç»“æœ
 */
@PostMapping("/update")
public BaseResponse<Boolean> updateApp(@RequestBody AppUpdateRequest appUpdateRequest, HttpServletRequest request) {
    if (appUpdateRequest == null || appUpdateRequest.getId() == null) {
        throw new BusinessException(ErrorCode.PARAMS_ERROR);
    }
    User loginUser = userService.getLoginUser(request);
    long id = appUpdateRequest.getId();
    // åˆ¤æ–­æ˜¯å¦å­˜åœ¨
    App oldApp = appService.getById(id);
    ThrowUtils.throwIf(oldApp == null, ErrorCode.NOT_FOUND_ERROR);
    // ä»…æœ¬äººå¯æ›´æ–°
    if (!oldApp.getUserId().equals(loginUser.getId())) {
        throw new BusinessException(ErrorCode.NO_AUTH_ERROR);
    }
    App app = new App();
    app.setId(id);
    app.setAppName(appUpdateRequest.getAppName());
    // è®¾ç½®ç¼–è¾‘æ—¶é—´
    app.setEditTime(LocalDateTime.now());
    boolean result = appService.updateById(app);
    ThrowUtils.throwIf(!result, ErrorCode.OPERATION_ERROR);
    return ResultUtils.success(true);
}
```

æ³¨æ„è¿™é‡Œæˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®äº† `editTime`ï¼Œè¿™æ˜¯ä¸ºäº†åŒºåˆ†ç”¨æˆ·ä¸»åŠ¨ç¼–è¾‘å’Œç³»ç»Ÿè‡ªåŠ¨æ›´æ–°çš„æ—¶é—´ã€‚

#### ç”¨æˆ·åˆ é™¤åº”ç”¨

éœ€è¦è¿›è¡Œæƒé™æ ¡éªŒï¼Œç¡®ä¿åªèƒ½ä¿®æ”¹è‡ªå·±çš„åº”ç”¨ã€‚æ¥å£ä»£ç å¦‚ä¸‹ï¼šWBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

```java
/**
 * åˆ é™¤åº”ç”¨ï¼ˆç”¨æˆ·åªèƒ½åˆ é™¤è‡ªå·±çš„åº”ç”¨ï¼‰
 *
 * @param deleteRequest åˆ é™¤è¯·æ±‚
 * @param request       è¯·æ±‚
 * @return åˆ é™¤ç»“æœ
 */
@PostMapping("/delete")
public BaseResponse<Boolean> deleteApp(@RequestBody DeleteRequest deleteRequest, HttpServletRequest request) {
    if (deleteRequest == null || deleteRequest.getId() <= 0) {
        throw new BusinessException(ErrorCode.PARAMS_ERROR);
    }
    User loginUser = userService.getLoginUser(request);
    long id = deleteRequest.getId();
    // åˆ¤æ–­æ˜¯å¦å­˜åœ¨
    App oldApp = appService.getById(id);
    ThrowUtils.throwIf(oldApp == null, ErrorCode.NOT_FOUND_ERROR);
    // ä»…æœ¬äººæˆ–ç®¡ç†å‘˜å¯åˆ é™¤
    if (!oldApp.getUserId().equals(loginUser.getId()) && !UserConstant.ADMIN_ROLE.equals(loginUser.getUserRole())) {
        throw new BusinessException(ErrorCode.NO_AUTH_ERROR);
    }
    boolean result = appService.removeById(id);
    return ResultUtils.success(result);
}
```

#### ç”¨æˆ·æŸ¥çœ‹åº”ç”¨è¯¦æƒ…

åº”ç”¨æŸ¥è¯¢æ¶‰åŠåˆ°å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡â æ¯ï¼Œéœ€è¦åˆ›å»º Apâ p çš„å°è£…ç±»ï¼ŒåŒ…å« UserVO ç”¨æˆ·ä¿¡æ¯å­—æ®µï¼šWBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

```java
@Data
public class AppVO implements Serializable {

    /**
     * id
     */
    private Long id;

    /**
     * åº”ç”¨åç§°
     */
    private String appName;

    /**
     * åº”ç”¨å°é¢
     */
    private String cover;

    /**
     * åº”ç”¨åˆå§‹åŒ–çš„ prompt
     */
    private String initPrompt;

    /**
     * ä»£ç ç”Ÿæˆç±»å‹ï¼ˆæšä¸¾ï¼‰
     */
    private String codeGenType;

    /**
     * éƒ¨ç½²æ ‡è¯†
     */
    private String deployKey;

    /**
     * éƒ¨ç½²æ—¶é—´
     */
    private LocalDateTime deployedTime;

    /**
     * ä¼˜å…ˆçº§
     */
    private Integer priority;

    /**
     * åˆ›å»ºç”¨æˆ·id
     */
    private Long userId;

    /**
     * åˆ›å»ºæ—¶é—´
     */
    private LocalDateTime createTime;

    /**
     * æ›´æ–°æ—¶é—´
     */
    private LocalDateTime updateTime;

    /**
     * åˆ›å»ºç”¨æˆ·ä¿¡æ¯
     */
    private UserVO user;

    private static final long serialVersionUID = 1L;
}
```

AppService ä¸­è¡¥å……æŸ¥è¯¢ App å…³è”ä¿¡æ¯çš„æ–¹æ³•ï¼š

```java
@Override
public AppVO getAppVO(App app) {
    if (app == null) {
        return null;
    }
    AppVO appVO = new AppVO();
    BeanUtil.copyProperties(app, appVO);
    // å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
    Long userId = app.getUserId();
    if (userId != null) {
        User user = userService.getById(userId);
        UserVO userVO = userService.getUserVO(user);
        appVO.setUser(userVO);
    }
    return appVO;
}
```

æ¥å£ä»£ç ä¸­ï¼Œå…ˆæŸ¥è¯¢ Appï¼Œå†æŸ¥è¯¢å°è£…ç±»ï¼š

```java
/**
 * æ ¹æ® id è·å–åº”ç”¨è¯¦æƒ…
 *
 * @param id      åº”ç”¨ id
 * @return åº”ç”¨è¯¦æƒ…
 */
@GetMapping("/get/vo")
public BaseResponse<AppVO> getAppVOById(long id) {
    ThrowUtils.throwIf(id <= 0, ErrorCode.PARAMS_ERROR);
    // æŸ¥è¯¢æ•°æ®åº“
    App app = appService.getById(id);
    ThrowUtils.throwIf(app == null, ErrorCode.NOT_FOUND_ERROR);
    // è·å–å°è£…ç±»ï¼ˆåŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼‰
    return ResultUtils.success(appService.getAppVO(app));
}
```

#### ç”¨æˆ·åˆ†é¡µæŸ¥è¯¢åº”ç”¨

æŸ¥è¯¢è¯·æ±‚ç±»ï¼Œä¸»è¦å®šä¹‰äº†å¯ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µï¼š

```java
@EqualsAndHashCode(callSuper = true)
@Data
public class AppQueryRequest extends PageRequest implements Serializable {

    /**
     * id
     */
    private Long id;

    /**
     * åº”ç”¨åç§°
     */
    private String appName;

    /**
     * åº”ç”¨å°é¢
     */
    private String cover;

    /**
     * åº”ç”¨åˆå§‹åŒ–çš„ prompt
     */
    private String initPrompt;

    /**
     * ä»£ç ç”Ÿæˆç±»å‹ï¼ˆæšä¸¾ï¼‰
     */
    private String codeGenType;

    /**
     * éƒ¨ç½²æ ‡è¯†
     */
    private String deployKey;

    /**
     * ä¼˜å…ˆçº§
     */
    private Integer priority;

    /**
     * åˆ›å»ºç”¨æˆ·id
     */
    private Long userId;

    private static final long serialVersionUID = 1L;
}
```

åœ¨ AppService ä¸­æ·»åŠ æ„é€ æŸ¥è¯¢å¯¹è±¡çš„æ–¹æ³•ï¼šp+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

```java
@Override
public QueryWrapper getQueryWrapper(AppQueryRequest appQueryRequest) {
    if (appQueryRequest == null) {
        throw new BusinessException(ErrorCode.PARAMS_ERROR, "è¯·æ±‚å‚æ•°ä¸ºç©º");
    }
    Long id = appQueryRequest.getId();
    String appName = appQueryRequest.getAppName();
    String cover = appQueryRequest.getCover();
    String initPrompt = appQueryRequest.getInitPrompt();
    String codeGenType = appQueryRequest.getCodeGenType();
    String deployKey = appQueryRequest.getDeployKey();
    Integer priority = appQueryRequest.getPriority();
    Long userId = appQueryRequest.getUserId();
    String sortField = appQueryRequest.getSortField();
    String sortOrder = appQueryRequest.getSortOrder();
    return QueryWrapper.create()
            .eq("id", id)
            .like("appName", appName)
            .like("cover", cover)
            .like("initPrompt", initPrompt)
            .eq("codeGenType", codeGenType)
            .eq("deployKey", deployKey)
            .eq("priority", priority)
            .eq("userId", userId)
            .orderBy(sortField, "ascend".equals(sortOrder));
}
```

åˆ†é¡µæŸ¥è¯¢åº”ç”¨æ—¶ï¼Œä¹Ÿéœ€è¦é¢å¤–è·å–åˆ›å»ºâ åº”ç”¨çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™ä¼šæ¶‰â åŠåˆ°å…³è”æŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ã€‚ä¼˜åŒ–æŸ¥è¯¢é€»è¾‘å¦‚ä¸‹ï¼š

-   å…ˆæ”¶é›†æ‰€æœ‰ userId åˆ°é›†åˆä¸­
-   æ ¹æ® userId é›†åˆæ‰¹é‡æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
-   æ„å»º Map æ˜ å°„å…³ç³» userId => UserVO
-   ä¸€æ¬¡æ€§ç»„è£…æ‰€æœ‰ AppVOï¼Œæ ¹æ® userId ä» Map ä¸­å–åˆ°éœ€è¦çš„ç”¨æˆ·ä¿¡æ¯

ä»£ç å¦‚ä¸‹ï¼šâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‰â€‰â â€‰â€‰â€‰â€‚â€‰â€‰â€‰â€‰â€‚â€‚â€‚â€‰â€‚â€‚

```java
@Override
public List<AppVO> getAppVOList(List<App> appList) {
    if (CollUtil.isEmpty(appList)) {
        return new ArrayList<>();
    }
    // æ‰¹é‡è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œé¿å… N+1 æŸ¥è¯¢é—®é¢˜
    Set<Long> userIds = appList.stream()
            .map(App::getUserId)
            .collect(Collectors.toSet());
    Map<Long, UserVO> userVOMap = userService.listByIds(userIds).stream()
            .collect(Collectors.toMap(User::getId, userService::getUserVO));
    return appList.stream().map(app -> {
        AppVO appVO = getAppVO(app);
        UserVO userVO = userVOMap.get(app.getUserId());
        appVO.setUser(userVO);
        return appVO;
    }).collect(Collectors.toList());
}
```

ğŸ’¡ å…¶å® MyBatis Flexâ  æä¾›äº†å…³è”æŸ¥è¯¢è¯­æ³•ï¼Œä½†â æˆ‘ä»¬çš„å®ç°æ–¹å¼ä¼šæ‹†åˆ†æŸ¥è¯¢é˜¶æ®µï¼Œè®©ä¸šåŠ¡æ›´æ¸…æ™°ï¼›ç›´æ¥æ„é€ å…³è”æŸ¥è¯¢é€‚åˆæ›´å¤æ‚çš„åœºæ™¯ã€‚nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

ç¼–å†™æ¥å£ä»£ç ï¼Œæ³¨æ„é™åˆ¶ç”¨æˆ·åªâ èƒ½æŸ¥è¯¢è‡ªå·±çš„åº”ç”¨ã€â å¹¶ä¸”å¯¹è¿”å›ç»“æœè¿›è¡Œå°è£…ï¼š

```java
/**
 * åˆ†é¡µè·å–å½“å‰ç”¨æˆ·åˆ›å»ºçš„åº”ç”¨åˆ—è¡¨
 *
 * @param appQueryRequest æŸ¥è¯¢è¯·æ±‚
 * @param request         è¯·æ±‚
 * @return åº”ç”¨åˆ—è¡¨
 */
@PostMapping("/my/list/page/vo")
public BaseResponse<Page<AppVO>> listMyAppVOByPage(@RequestBody AppQueryRequest appQueryRequest, HttpServletRequest request) {
    ThrowUtils.throwIf(appQueryRequest == null, ErrorCode.PARAMS_ERROR);
    User loginUser = userService.getLoginUser(request);
    // é™åˆ¶æ¯é¡µæœ€å¤š 20 ä¸ª
    long pageSize = appQueryRequest.getPageSize();
    ThrowUtils.throwIf(pageSize > 20, ErrorCode.PARAMS_ERROR, "æ¯é¡µæœ€å¤šæŸ¥è¯¢ 20 ä¸ªåº”ç”¨");
    long pageNum = appQueryRequest.getPageNum();
    // åªæŸ¥è¯¢å½“å‰ç”¨æˆ·çš„åº”ç”¨
    appQueryRequest.setUserId(loginUser.getId());
    QueryWrapper queryWrapper = appService.getQueryWrapper(appQueryRequest);
    Page<App> appPage = appService.page(Page.of(pageNum, pageSize), queryWrapper);
    // æ•°æ®å°è£…
    Page<AppVO> appVOPage = new Page<>(pageNum, pageSize, appPage.getTotalRow());
    List<AppVO> appVOList = appService.getAppVOList(appPage.getRecords());
    appVOPage.setRecords(appVOList);
    return ResultUtils.success(appVOPage);
}
```

#### ç”¨æˆ·åˆ†é¡µæŸ¥è¯¢ç²¾é€‰åº”ç”¨

è¿™é‡Œå‚è€ƒäº†å¤§å‚çš„é›¶ä»£ç åº”ç”¨ç”Ÿæˆå¹³å°ï¼Œç”¨æˆ·åªâ èƒ½åœ¨ä¸»é¡µæŸ¥è¯¢ç²¾é€‰åº”ç”¨åˆ—è¡¨ï¼ˆè¿˜â æœ‰è‡ªå·±çš„ï¼‰ï¼Œè¿™æ ·ä¸»é¡µä¼šæ›´å¹²å‡€ï¼›åŒæ—¶é¿å…äº†çˆ¬è™«ï¼Œç›¸å½“äºèµ·åˆ°äº†ä¸€ä¸ªç®¡ç†å‘˜å®¡æ ¸çš„ä½œç”¨ã€‚

åˆ›å»º `constant` åŒ…å’Œå¸¸é‡ç±» `AppConstant`ï¼Œå­˜å‚¨åº”ç”¨ä¼˜å…ˆçº§å¸¸é‡ï¼š

```java
public interface AppConstant {

    /**
     * ç²¾é€‰åº”ç”¨çš„ä¼˜å…ˆçº§
     */
    Integer GOOD_APP_PRIORITY = 99;

    /**
     * é»˜è®¤åº”ç”¨ä¼˜å…ˆçº§
     */
    Integer DEFAULT_APP_PRIORITY = 0;
}
```

ç¼–å†™æ¥å£ï¼š

```java
/**
 * åˆ†é¡µè·å–ç²¾é€‰åº”ç”¨åˆ—è¡¨
 *
 * @param appQueryRequest æŸ¥è¯¢è¯·æ±‚
 * @return ç²¾é€‰åº”ç”¨åˆ—è¡¨
 */
@PostMapping("/good/list/page/vo")
public BaseResponse<Page<AppVO>> listGoodAppVOByPage(@RequestBody AppQueryRequest appQueryRequest) {
    ThrowUtils.throwIf(appQueryRequest == null, ErrorCode.PARAMS_ERROR);
    // é™åˆ¶æ¯é¡µæœ€å¤š 20 ä¸ª
    long pageSize = appQueryRequest.getPageSize();
    ThrowUtils.throwIf(pageSize > 20, ErrorCode.PARAMS_ERROR, "æ¯é¡µæœ€å¤šæŸ¥è¯¢ 20 ä¸ªåº”ç”¨");
    long pageNum = appQueryRequest.getPageNum();
    // åªæŸ¥è¯¢ç²¾é€‰çš„åº”ç”¨
    appQueryRequest.setPriority(AppConstant.GOOD_APP_PRIORITY);
    QueryWrapper queryWrapper = appService.getQueryWrapper(appQueryRequest);
    // åˆ†é¡µæŸ¥è¯¢
    Page<App> appPage = appService.page(Page.of(pageNum, pageSize), queryWrapper);
    // æ•°æ®å°è£…
    Page<AppVO> appVOPage = new Page<>(pageNum, pageSize, appPage.getTotalRow());
    List<AppVO> appVOList = appService.getAppVOList(appPage.getRecords());
    appVOPage.setRecords(appVOList);
    return ResultUtils.success(appVOPage);
}
```

#### ç®¡ç†å‘˜åˆ é™¤åº”ç”¨

è·Ÿç”¨æˆ·åˆ é™¤åº”ç”¨æ¥å£ç±»ä¼¼ï¼Œä½†æ˜¯â ç®¡ç†å‘˜å¯ä»¥åˆ é™¤ä»»æ„â åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡æƒé™æ³¨è§£æ ¡éªŒæƒé™ï¼š

```java
/**
 * ç®¡ç†å‘˜åˆ é™¤åº”ç”¨
 *
 * @param deleteRequest åˆ é™¤è¯·æ±‚
 * @return åˆ é™¤ç»“æœ
 */
@PostMapping("/admin/delete")
@AuthCheck(mustRole = UserConstant.ADMIN_ROLE)
public BaseResponse<Boolean> deleteAppByAdmin(@RequestBody DeleteRequest deleteRequest) {
    if (deleteRequest == null || deleteRequest.getId() <= 0) {
        throw new BusinessException(ErrorCode.PARAMS_ERROR);
    }
    long id = deleteRequest.getId();
    // åˆ¤æ–­æ˜¯å¦å­˜åœ¨
    App oldApp = appService.getById(id);
    ThrowUtils.throwIf(oldApp == null, ErrorCode.NOT_FOUND_ERROR);
    boolean result = appService.removeById(id);
    return ResultUtils.success(result);
}
```

#### ç®¡ç†å‘˜æ›´æ–°åº”ç”¨

ç®¡ç†å‘˜å¯ä»¥æ›´æ–°ä»»æ„åº”ç”¨çš„åº”ç”¨â åç§°ã€åº”ç”¨å°é¢å’Œä¼˜â å…ˆçº§ï¼Œæ›´æ–°ä¼˜å…ˆçº§çš„æ“ä½œå…¶å®å°±æ˜¯ç²¾é€‰ã€‚

ç®¡ç†å‘˜ç¼–è¾‘è¯·æ±‚ç±»ï¼š

```java
@Data
public class AppAdminUpdateRequest implements Serializable {

    /**
     * id
     */
    private Long id;

    /**
     * åº”ç”¨åç§°
     */
    private String appName;

    /**
     * åº”ç”¨å°é¢
     */
    private String cover;

    /**
     * ä¼˜å…ˆçº§
     */
    private Integer priority;

    private static final long serialVersionUID = 1L;
}
```

ç¼–å†™æ¥å£ï¼Œæ³¨æ„æƒé™æ§åˆ¶ã€ç¼–è¾‘æ—¶é—´çš„è®¾ç½®ï¼š

```java
/**
 * ç®¡ç†å‘˜æ›´æ–°åº”ç”¨
 *
 * @param appAdminUpdateRequest æ›´æ–°è¯·æ±‚
 * @return æ›´æ–°ç»“æœ
 */
@PostMapping("/admin/update")
@AuthCheck(mustRole = UserConstant.ADMIN_ROLE)
public BaseResponse<Boolean> updateAppByAdmin(@RequestBody AppAdminUpdateRequest appAdminUpdateRequest) {
    if (appAdminUpdateRequest == null || appAdminUpdateRequest.getId() == null) {
        throw new BusinessException(ErrorCode.PARAMS_ERROR);
    }
    long id = appAdminUpdateRequest.getId();
    // åˆ¤æ–­æ˜¯å¦å­˜åœ¨
    App oldApp = appService.getById(id);
    ThrowUtils.throwIf(oldApp == null, ErrorCode.NOT_FOUND_ERROR);
    App app = new App();
    BeanUtil.copyProperties(appAdminUpdateRequest, app);
    // è®¾ç½®ç¼–è¾‘æ—¶é—´
    app.setEditTime(LocalDateTime.now());
    boolean result = appService.updateById(app);
    ThrowUtils.throwIf(!result, ErrorCode.OPERATION_ERROR);
    return ResultUtils.success(true);
}
```

#### ç®¡ç†å‘˜åˆ†é¡µæŸ¥è¯¢åº”ç”¨

ç®¡ç†å‘˜æ¯”æ™®é€šç”¨æˆ·æ‹¥æœ‰æ›´å¤§çš„æŸ¥â è¯¢èŒƒå›´ï¼Œæ”¯æŒæ ¹æ®é™¤â æ—¶é—´å¤–çš„ä»»ä½•å­—æ®µæŸ¥è¯¢ï¼Œå¹¶ä¸”æ¯é¡µæ•°é‡ä¸é™ã€‚

æ¥å£ä»£ç ï¼š

```java
/**
 * ç®¡ç†å‘˜åˆ†é¡µè·å–åº”ç”¨åˆ—è¡¨
 *
 * @param appQueryRequest æŸ¥è¯¢è¯·æ±‚
 * @return åº”ç”¨åˆ—è¡¨
 */
@PostMapping("/admin/list/page/vo")
@AuthCheck(mustRole = UserConstant.ADMIN_ROLE)
public BaseResponse<Page<AppVO>> listAppVOByPageByAdmin(@RequestBody AppQueryRequest appQueryRequest) {
    ThrowUtils.throwIf(appQueryRequest == null, ErrorCode.PARAMS_ERROR);
    long pageNum = appQueryRequest.getPageNum();
    long pageSize = appQueryRequest.getPageSize();
    QueryWrapper queryWrapper = appService.getQueryWrapper(appQueryRequest);
    Page<App> appPage = appService.page(Page.of(pageNum, pageSize), queryWrapper);
    // æ•°æ®å°è£…
    Page<AppVO> appVOPage = new Page<>(pageNum, pageSize, appPage.getTotalRow());
    List<AppVO> appVOList = appService.getAppVOList(appPage.getRecords());
    appVOPage.setRecords(appVOList);
    return ResultUtils.success(appVOPage);
}
```

#### ç®¡ç†å‘˜æŸ¥çœ‹åº”ç”¨è¯¦æƒ…

è¿™ä¸ªæ¥å£é™¤äº†æƒé™ä¹‹å¤–ï¼Œç›®å‰è·Ÿç”¨æˆ·æŸ¥çœ‹åº”ç”¨è¯¦æƒ…æ¥å£æ²¡æœ‰åŒºåˆ«ï¼š

```java
/**
 * ç®¡ç†å‘˜æ ¹æ® id è·å–åº”ç”¨è¯¦æƒ…
 *
 * @param id åº”ç”¨ id
 * @return åº”ç”¨è¯¦æƒ…
 */
@GetMapping("/admin/get/vo")
@AuthCheck(mustRole = UserConstant.ADMIN_ROLE)
public BaseResponse<AppVO> getAppVOByIdByAdmin(long id) {
    ThrowUtils.throwIf(id <= 0, ErrorCode.PARAMS_ERROR);
    // æŸ¥è¯¢æ•°æ®åº“
    App app = appService.getById(id);
    ThrowUtils.throwIf(app == null, ErrorCode.NOT_FOUND_ERROR);
    // è·å–å°è£…ç±»
    return ResultUtils.success(appService.getAppVO(app));
}
```

### æµ‹è¯•

æ¥å£è¾ƒå¤šï¼Œå»ºè®®å¤§å®¶åˆ©ç”¨ Swâ agger å¤šå¤šæµ‹â è¯•ï¼Œå°¤å…¶æ˜¯æƒé™ã€‚

![](https://pic.code-nav.cn/course_picture/1608440217629360130/i6g8SLVrHb7CeAlH.webp)p+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

## å››ã€åº”ç”¨ç”Ÿæˆï¼ˆåç«¯ï¼‰

### ä¸šåŠ¡æµç¨‹è®¾è®¡

ç°åœ¨æˆ‘ä»¬éœ€è¦å°†ä¹‹å‰å®ç°çš„ Aâ I ç”ŸæˆåŠŸèƒ½ä¸åº”ç”¨â ç®¡ç†ç³»ç»Ÿè¿›è¡Œé›†æˆã€‚F+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

å‚è€ƒå¤§å‚å¹³å°ï¼Œæˆ‘ä»¬çš„æ•´ä¸ªä¸šåŠ¡æµç¨‹æ˜¯ï¼š

1.  ç”¨æˆ·åœ¨ä¸»é¡µè¾“å…¥æç¤ºè¯åˆ›å»ºåº”ç”¨ï¼ˆå…¥åº“ï¼‰
2.  è·å¾—åº”ç”¨ ID åè·³è½¬åˆ°å¯¹è¯é¡µé¢
3.  ç³»ç»Ÿè‡ªåŠ¨ä½¿ç”¨åˆå§‹æç¤ºè¯ä¸ AI å¯¹è¯ç”Ÿæˆç½‘ç«™ä»£ç 

ç”±äºåº”ç”¨çš„ç”Ÿæˆè¿‡ç¨‹å’Œ AI å¯¹è¯æ˜¯ç»‘å®šçš„ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›ä¸€ä¸ªåä¸º `chatToGenCode` çš„åº”ç”¨ç”Ÿæˆæ¥å£ï¼Œè°ƒç”¨ä¹‹å‰å¼€å‘çš„ AI ä»£ç ç”Ÿæˆé—¨é¢å®Œæˆä»»åŠ¡ï¼Œå¹¶ä¸”æµå¼è¿”å›ç»™å‰ç«¯ã€‚å‰ç«¯ä¸éœ€è¦åŒºåˆ†ç”¨æˆ·æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡å’Œè¯¥åº”ç”¨å¯¹è¯ï¼Œå§‹ç»ˆè°ƒç”¨è¿™ä¸ªæ¥å£å³å¯ï¼Œéœ€è¦æ€ä¹ˆåšéƒ½äº¤ç»™åç«¯æ¥åˆ¤æ–­ã€‚1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

ä¸€å®šè¦ç¡®ä¿ç”Ÿæˆçš„æ–‡ä»¶èƒ½å¤Ÿä¸åº”ç”¨æ­£ç¡®å…³è”ï¼Œå› æ­¤è¿™æ¬¡ç”Ÿæˆçš„ç½‘ç«™ç›®å½•åç§°ä¸å†æ˜¯ä¹‹å‰çš„ `codeType_é›ªèŠ±ç®—æ³•`ï¼Œè€Œæ˜¯ `codeGenType_appId`ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡ appId æŸ¥æ•°æ®åº“è·å–åº”ç”¨ä¿¡æ¯ã€å†æ ¹æ®åº”ç”¨ä¿¡æ¯æ‰¾åˆ°å¯¹åº”çš„ç½‘ç«™ç›®å½•äº†ã€‚

ğŸ’¡ ä¸ºä»€ä¹ˆè¿™é‡Œä¸ç”¨ depâ loyKey ä½œä¸ºâ ç½‘ç«™ç›®å½•åç§°å‘¢ï¼Ÿå…¶å®æˆ‘æ˜¯åˆ»æ„å¸Œæœ›å¤§å®¶åŒºåˆ†éƒ¨ç½²ç¯å¢ƒå’Œè¿‡ç¨‹ã€‚

### æœåŠ¡å¼€å‘

é¦–å…ˆéœ€è¦ä¿®æ”¹ `CodeFileSaverTemplate` çš„ `saveCode` å’Œ `buildUniqueDir` æ–¹æ³•ï¼Œä½¿å…¶æ”¯æŒåŸºäº appId çš„ç›®å½•å‘½åï¼š

```java
/**
 * æ¨¡æ¿æ–¹æ³•ï¼šä¿å­˜ä»£ç çš„æ ‡å‡†æµç¨‹ï¼ˆä½¿ç”¨ appIdï¼‰
 *
 * @param result ä»£ç ç»“æœå¯¹è±¡
 * @param appId  åº”ç”¨ ID
 * @return ä¿å­˜çš„ç›®å½•
 */
public final File saveCode(T result, Long appId) {
    // 1. éªŒè¯è¾“å…¥
    validateInput(result);
    // 2. æ„å»ºåŸºäº appId çš„ç›®å½•
    String baseDirPath = buildUniqueDir(appId);
    // 3. ä¿å­˜æ–‡ä»¶ï¼ˆå…·ä½“å®ç°ç”±å­ç±»æä¾›ï¼‰
    saveFiles(result, baseDirPath);
    // 4. è¿”å›ç›®å½•æ–‡ä»¶å¯¹è±¡
    return new File(baseDirPath);
}

/**
 * æ„å»ºåŸºäº appId çš„ç›®å½•è·¯å¾„
 *
 * @param appId åº”ç”¨ ID
 * @return ç›®å½•è·¯å¾„
 */
protected final String buildUniqueDir(Long appId) {
    if (appId == null) {
        throw new BusinessException(ErrorCode.PARAMS_ERROR, "åº”ç”¨ ID ä¸èƒ½ä¸ºç©º");
    }
    String codeType = getCodeType().getValue();
    String uniqueDirName = StrUtil.format("{}_{}", codeType, appId);
    String dirPath = FILE_SAVE_ROOT_DIR + File.separator + uniqueDirName;
    FileUtil.mkdir(dirPath);
    return dirPath;
}
```

ä¿®æ”¹ `CodeFileSaverExecutor` çš„æ‰§è¡Œæ–¹æ³•ï¼Œè¡¥å…… appId å‚æ•°ï¼šWBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

```java
/**
 * æ‰§è¡Œä»£ç ä¿å­˜ï¼ˆä½¿ç”¨ appIdï¼‰
 *
 * @param codeResult  ä»£ç ç»“æœå¯¹è±¡
 * @param codeGenType ä»£ç ç”Ÿæˆç±»å‹
 * @param appId       åº”ç”¨ ID
 * @return ä¿å­˜çš„ç›®å½•
 */
public static File executeSaver(Object codeResult, CodeGenTypeEnum codeGenType, Long appId) {
    return switch (codeGenType) {
        case HTML -> htmlCodeFileSaver.saveCode((HtmlCodeResult) codeResult, appId);
        case MULTI_FILE -> multiFileCodeFileSaver.saveCode((MultiFileCodeResult) codeResult, appId);
        default -> throw new BusinessException(ErrorCode.SYSTEM_ERROR, "ä¸æ”¯æŒçš„ä»£ç ç”Ÿæˆç±»å‹: " + codeGenType);
    };
}
```

ä¿®æ”¹ `AiCodeGeneratorFacade` çš„æ‰€æœ‰å¯¹è¯æ–¹æ³•ï¼Œéƒ½æ·»åŠ  appId å‚æ•°ï¼š

```java
/**
 * ç»Ÿä¸€å…¥å£ï¼šæ ¹æ®ç±»å‹ç”Ÿæˆå¹¶ä¿å­˜ä»£ç ï¼ˆä½¿ç”¨ appIdï¼‰
 *
 * @param userMessage     ç”¨æˆ·æç¤ºè¯
 * @param codeGenTypeEnum ç”Ÿæˆç±»å‹
 * @return ä¿å­˜çš„ç›®å½•
 */
public File generateAndSaveCode(String userMessage, CodeGenTypeEnum codeGenTypeEnum, Long appId) {
    if (codeGenTypeEnum == null) {
        throw new BusinessException(ErrorCode.SYSTEM_ERROR, "ç”Ÿæˆç±»å‹ä¸ºç©º");
    }
    return switch (codeGenTypeEnum) {
        case HTML -> {
            HtmlCodeResult result = aiCodeGeneratorService.generateHtmlCode(userMessage);
            yield CodeFileSaverExecutor.executeSaver(result, CodeGenTypeEnum.HTML, appId);
        }
        case MULTI_FILE -> {
            MultiFileCodeResult result = aiCodeGeneratorService.generateMultiFileCode(userMessage);
            yield CodeFileSaverExecutor.executeSaver(result, CodeGenTypeEnum.MULTI_FILE, appId);
        }
        default -> {
            String errorMessage = "ä¸æ”¯æŒçš„ç”Ÿæˆç±»å‹ï¼š" + codeGenTypeEnum.getValue();
            throw new BusinessException(ErrorCode.SYSTEM_ERROR, errorMessage);
        }
    };
}

/**
 * ç»Ÿä¸€å…¥å£ï¼šæ ¹æ®ç±»å‹ç”Ÿæˆå¹¶ä¿å­˜ä»£ç ï¼ˆæµå¼ï¼Œä½¿ç”¨ appIdï¼‰
 *
 * @param userMessage     ç”¨æˆ·æç¤ºè¯
 * @param codeGenTypeEnum ç”Ÿæˆç±»å‹
 * @param appId           åº”ç”¨ ID
 */
public Flux<String> generateAndSaveCodeStream(String userMessage, CodeGenTypeEnum codeGenTypeEnum, Long appId) {
    if (codeGenTypeEnum == null) {
        throw new BusinessException(ErrorCode.SYSTEM_ERROR, "ç”Ÿæˆç±»å‹ä¸ºç©º");
    }
    return switch (codeGenTypeEnum) {
        case HTML -> {
            Flux<String> codeStream = aiCodeGeneratorService.generateHtmlCodeStream(userMessage);
            yield processCodeStream(codeStream, CodeGenTypeEnum.HTML, appId);
        }
        case MULTI_FILE -> {
            Flux<String> codeStream = aiCodeGeneratorService.generateMultiFileCodeStream(userMessage);
            yield processCodeStream(codeStream, CodeGenTypeEnum.MULTI_FILE, appId);
        }
        default -> {
            String errorMessage = "ä¸æ”¯æŒçš„ç”Ÿæˆç±»å‹ï¼š" + codeGenTypeEnum.getValue();
            throw new BusinessException(ErrorCode.SYSTEM_ERROR, errorMessage);
        }
    };
}

/**
 * é€šç”¨æµå¼ä»£ç å¤„ç†æ–¹æ³•ï¼ˆä½¿ç”¨ appIdï¼‰
 *
 * @param codeStream  ä»£ç æµ
 * @param codeGenType ä»£ç ç”Ÿæˆç±»å‹
 * @param appId       åº”ç”¨ ID
 * @return æµå¼å“åº”
 */
private Flux<String> processCodeStream(Flux<String> codeStream, CodeGenTypeEnum codeGenType, Long appId) {
    StringBuilder codeBuilder = new StringBuilder();
    return codeStream.doOnNext(chunk -> {
        // å®æ—¶æ”¶é›†ä»£ç ç‰‡æ®µ
        codeBuilder.append(chunk);
    }).doOnComplete(() -> {
        // æµå¼è¿”å›å®Œæˆåä¿å­˜ä»£ç 
        try {
            String completeCode = codeBuilder.toString();
            // ä½¿ç”¨æ‰§è¡Œå™¨è§£æä»£ç 
            Object parsedResult = CodeParserExecutor.executeParser(completeCode, codeGenType);
            // ä½¿ç”¨æ‰§è¡Œå™¨ä¿å­˜ä»£ç 
            File savedDir = CodeFileSaverExecutor.executeSaver(parsedResult, codeGenType, appId);
            log.info("ä¿å­˜æˆåŠŸï¼Œè·¯å¾„ä¸ºï¼š" + savedDir.getAbsolutePath());
        } catch (Exception e) {
            log.error("ä¿å­˜å¤±è´¥: {}", e.getMessage());
        }
    });
}
```

åŒæ­¥ä¿®æ”¹å•å…ƒæµ‹è¯•ï¼Œè¡¥å…… appId å‚æ•°ï¼š

```java
@Test
void generateAndSaveCode() {
    File file = aiCodeGeneratorFacade.generateAndSaveCode("ä»»åŠ¡è®°å½•ç½‘ç«™", CodeGenTypeEnum.MULTI_FILE, 1L);
    Assertions.assertNotNull(file);
}

@Test
void generateAndSaveCodeStream() {
    Flux<String> codeStream = aiCodeGeneratorFacade.generateAndSaveCodeStream("ä»»åŠ¡è®°å½•ç½‘ç«™", CodeGenTypeEnum.MULTI_FILE, 1L);
    // é˜»å¡ç­‰å¾…æ‰€æœ‰æ•°æ®æ”¶é›†å®Œæˆ
    List<String> result = codeStream.collectList().block();
    // éªŒè¯ç»“æœ
    Assertions.assertNotNull(result);
    String completeContent = String.join("", result);
    Assertions.assertNotNull(completeContent);
}
```

åœ¨ AppService ä¸­â ç¼–å†™ chatToâ GenCode æ–¹æ³•ï¼Œè°ƒç”¨é—¨é¢ç”Ÿæˆä»£ç ï¼šWBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

```java
@Override
public Flux<String> chatToGenCode(Long appId, String message, User loginUser) {
    // 1. å‚æ•°æ ¡éªŒ
    ThrowUtils.throwIf(appId == null || appId <= 0, ErrorCode.PARAMS_ERROR, "åº”ç”¨ ID ä¸èƒ½ä¸ºç©º");
    ThrowUtils.throwIf(StrUtil.isBlank(message), ErrorCode.PARAMS_ERROR, "ç”¨æˆ·æ¶ˆæ¯ä¸èƒ½ä¸ºç©º");
    // 2. æŸ¥è¯¢åº”ç”¨ä¿¡æ¯
    App app = this.getById(appId);
    ThrowUtils.throwIf(app == null, ErrorCode.NOT_FOUND_ERROR, "åº”ç”¨ä¸å­˜åœ¨");
    // 3. éªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®è¯¥åº”ç”¨ï¼Œä»…æœ¬äººå¯ä»¥ç”Ÿæˆä»£ç 
    if (!app.getUserId().equals(loginUser.getId())) {
        throw new BusinessException(ErrorCode.NO_AUTH_ERROR, "æ— æƒé™è®¿é—®è¯¥åº”ç”¨");
    }
    // 4. è·å–åº”ç”¨çš„ä»£ç ç”Ÿæˆç±»å‹
    String codeGenTypeStr = app.getCodeGenType();
    CodeGenTypeEnum codeGenTypeEnum = CodeGenTypeEnum.getEnumByValue(codeGenTypeStr);
    if (codeGenTypeEnum == null) {
        throw new BusinessException(ErrorCode.SYSTEM_ERROR, "ä¸æ”¯æŒçš„ä»£ç ç”Ÿæˆç±»å‹");
    }
    // 5. è°ƒç”¨ AI ç”Ÿæˆä»£ç 
    return aiCodeGeneratorFacade.generateAndSaveCodeStream(message, codeGenTypeEnum, appId);
}
```

### SSE æµå¼æ¥å£å¼€å‘

AppController æ–°å¢æ¥å£â ï¼Œæ³¨æ„è¦å£°æ˜ä¸º SSE â æµå¼è¿”å›ï¼Œä½¿ç”¨ get è¯·æ±‚ä¾¿äºå‰ç«¯ä½¿ç”¨ EventSource å¯¹æ¥ï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

```java
/**
 * åº”ç”¨èŠå¤©ç”Ÿæˆä»£ç ï¼ˆæµå¼ SSEï¼‰
 *
 * @param appId   åº”ç”¨ ID
 * @param message ç”¨æˆ·æ¶ˆæ¯
 * @param request è¯·æ±‚å¯¹è±¡
 * @return ç”Ÿæˆç»“æœæµ
 */
@GetMapping(value = "/chat/gen/code", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
public Flux<String> chatToGenCode(@RequestParam Long appId,
                                  @RequestParam String message,
                                  HttpServletRequest request) {
    // å‚æ•°æ ¡éªŒ
    ThrowUtils.throwIf(appId == null || appId <= 0, ErrorCode.PARAMS_ERROR, "åº”ç”¨IDæ— æ•ˆ");
    ThrowUtils.throwIf(StrUtil.isBlank(message), ErrorCode.PARAMS_ERROR, "ç”¨æˆ·æ¶ˆæ¯ä¸èƒ½ä¸ºç©º");
    // è·å–å½“å‰ç™»å½•ç”¨æˆ·
    User loginUser = userService.getLoginUser(request);
    // è°ƒç”¨æœåŠ¡ç”Ÿæˆä»£ç ï¼ˆæµå¼ï¼‰
    return appService.chatToGenCode(appId, message, loginUser);
}
```

### æ¥å£æµ‹è¯•

æµ‹è¯•ä¸‹æ•ˆæœï¼Œåˆ›å»ºåº”ç”¨ï¼Œå¾—åˆ° appIdï¼šUzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/Eh3B3jYsRJZGqNuZ.webp)

æ¥ä¸‹æ¥è¦è°ƒç”¨ç”Ÿæˆåº”ç”¨æ¥å£ã€‚ä¸ºâ äº†æ›´å¥½åœ°çœ‹åˆ°æµå¼è¾“â å‡ºï¼Œç”¨ CURL ç­‰æµ‹è¯•å·¥å…·è€Œä¸æ˜¯ Swaggerï¼š

```shell
# 1. ç”¨æˆ·ç™»å½•
curl -X POST "http://localhost:8123/api/user/login" \
  -H "Content-Type: application/json" \
  -d '{
    "userAccount": "yupi",
    "userPassword": "12345678"
  }' \
  -c cookies.txt

# 2. è°ƒç”¨ç”Ÿæˆä»£ç æ¥å£ï¼ˆæµå¼ï¼‰
curl -G "http://localhost:8123/api/app/chat/gen/code" \
  --data-urlencode "appId=123456" \
  --data-urlencode "message=æˆ‘éœ€è¦ä¸€ä¸ªç®€å•çš„ä»»åŠ¡è®°å½•å·¥å…·ç½‘ç«™" \
  -H "Accept: text/event-stream" \
  -H "Cache-Control: no-cache" \
  -b cookies.txt \
  --no-buffer
```

è¾“å‡ºç»“æœç¬¦åˆé¢„æœŸï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/qdoTLsqMOfC6SJsT.webp)

### SSE æµå¼æ¥å£ä¼˜åŒ–

ç›®å‰è™½ç„¶èƒ½æµå¼è¾“å‡ºäº†ï¼Œä½†å…¶å®â è·å–åˆ°çš„æ•°æ®æ˜¯æœ‰é—®â é¢˜çš„ï¼æˆ‘ä»¬è¿˜è¦å¯¹ SSE æ¥å£è¿›è¡Œä¼˜åŒ–ï¼Œè§£å†³ 2 ä¸ªé—®é¢˜ã€‚

#### 1ã€è§£å†³ç©ºæ ¼ä¸¢å¤±é—®é¢˜

å‰ç«¯ä½¿ç”¨ EventSourâ ce å¯¹æ¥ç›®å‰çš„æ¥â å£æ—¶ï¼Œä¼šå‡ºç°ç©ºæ ¼ä¸¢å¤±é—®é¢˜ã€‚qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

è§£å†³æ–¹æ¡ˆæ˜¯åœ¨åç«¯å°è£…æ•°æ®ï¼Œå¯â ä»¥å‚è€ƒ DeepSâ eek çš„åšæ³•ï¼Œå°†åŸæœ¬çš„è¿”å›å€¼å°è£…åˆ° JSON ä¸­ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/cgepPbdCXe1ir2XL.webp)

è€Œç¾å›¢ NoCode çš„åšæ³•æ›´é«˜çº§ä¸€äº›ï¼Œå¯¹å†…å®¹è¿›è¡Œäº†åŠ å¯†ï¼šp+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/gU1XSVje6QFJYkiH.webp)

æŒ‰ç…§å°è£…çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸‹åˆ—ä»£ç ï¼Œå°† Flux é¢å¤–å°è£…æˆ ServerSentEventï¼ŒæŠŠåŸå§‹æ•°æ®æ”¾åˆ° JSON çš„ `d` å­—æ®µå†…ï¼š

```java
@GetMapping(value = "/chat/gen/code", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
public Flux<ServerSentEvent<String>> chatToGenCode(@RequestParam Long appId,
                                                   @RequestParam String message,
                                                   HttpServletRequest request) {
    // å‚æ•°æ ¡éªŒ
    ThrowUtils.throwIf(appId == null || appId <= 0, ErrorCode.PARAMS_ERROR, "åº”ç”¨IDæ— æ•ˆ");
    ThrowUtils.throwIf(StrUtil.isBlank(message), ErrorCode.PARAMS_ERROR, "ç”¨æˆ·æ¶ˆæ¯ä¸èƒ½ä¸ºç©º");
    // è·å–å½“å‰ç™»å½•ç”¨æˆ·
    User loginUser = userService.getLoginUser(request);
    // è°ƒç”¨æœåŠ¡ç”Ÿæˆä»£ç ï¼ˆæµå¼ï¼‰
    Flux<String> contentFlux = appService.chatToGenCode(appId, message, loginUser);
    // è½¬æ¢ä¸º ServerSentEvent æ ¼å¼
    return contentFlux
            .map(chunk -> {
                // å°†å†…å®¹åŒ…è£…æˆJSONå¯¹è±¡
                Map<String, String> wrapper = Map.of("d", chunk);
                String jsonData = JSONUtil.toJsonStr(wrapper);
                return ServerSentEvent.<String>builder()
                        .data(jsonData)
                        .build();
            });
}
```

å†æ¬¡æµ‹è¯•ï¼Œç©ºæ ¼ä¹Ÿä¼šæ­£å¸¸è¾“å‡ºäº†ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/CSxY7y8O6mEvBPol.webp)

ğŸ’¡ é™¤äº†è¿™ç§æ–¹å¼å¤–ï¼Œä¹Ÿå¯ä»¥â åœ¨åç«¯å¯¹ç©ºæ ¼è¿›è¡Œè½¬â ä¹‰ï¼Œå‰ç«¯å†è½¬å›æ¥ã€‚cZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

#### 2ã€ä¸»åŠ¨å‘Šè¯‰å‰ç«¯ç”Ÿæˆå®Œæˆ

åœ¨ SSE ä¸­ï¼Œå½“æœåŠ¡å™¨å…³é—­è¿æ¥æ—¶ï¼Œä¼šè§¦å‘å®¢æˆ·ç«¯çš„ `onclose` äº‹ä»¶ï¼Œè¿™æ˜¯å‰ç«¯åˆ¤æ–­æµç»“æŸçš„æ ‡å‡†æ–¹å¼ã€‚ä½†æ˜¯ï¼Œ`onclose`äº‹ä»¶ä¼šåœ¨è¿æ¥æ­£å¸¸ç»“æŸï¼ˆæœåŠ¡å™¨ä¸»åŠ¨å…³é—­ï¼‰å’Œå¼‚å¸¸ä¸­æ–­ï¼ˆå¦‚ç½‘ç»œé—®é¢˜ï¼‰æ—¶éƒ½è§¦å‘ï¼Œå‰ç«¯å°±å¾ˆéš¾åŒºåˆ†åˆ°åº•åç«¯æ˜¯æ­£å¸¸å“åº”äº†æ‰€æœ‰æ•°æ®ã€è¿˜æ˜¯å¼‚å¸¸ä¸­æ–­äº†ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬æœ€å¥½åœ¨åç«¯æ·»åŠ ä¸€ä¸ªæ˜ç¡®çš„ `done` äº‹ä»¶ï¼Œè¿™æ ·å¯ä»¥æ›´æ¸…æ™°åœ°åŒºåˆ†æµçš„æ­£å¸¸ç»“æŸå’Œå¼‚å¸¸ä¸­æ–­ã€‚qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

ä¿®æ”¹æ¥å£ä»£ç ï¼Œé¢å¤–è¿½åŠ ç»“æŸäº‹ä»¶ï¼š

```java
@GetMapping(value = "/chat/gen/code", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
public Flux<ServerSentEvent<String>> chatToGenCode(@RequestParam Long appId,
                                                   @RequestParam String message,
                                                   HttpServletRequest request) {
    // å‚æ•°æ ¡éªŒ
    ThrowUtils.throwIf(appId == null || appId <= 0, ErrorCode.PARAMS_ERROR, "åº”ç”¨IDæ— æ•ˆ");
    ThrowUtils.throwIf(StrUtil.isBlank(message), ErrorCode.PARAMS_ERROR, "ç”¨æˆ·æ¶ˆæ¯ä¸èƒ½ä¸ºç©º");
    // è·å–å½“å‰ç™»å½•ç”¨æˆ·
    User loginUser = userService.getLoginUser(request);
    // è°ƒç”¨æœåŠ¡ç”Ÿæˆä»£ç ï¼ˆæµå¼ï¼‰
    Flux<String> contentFlux = appService.chatToGenCode(appId, message, loginUser);
    // è½¬æ¢ä¸º ServerSentEvent æ ¼å¼
    return contentFlux
            .map(chunk -> {
                // å°†å†…å®¹åŒ…è£…æˆJSONå¯¹è±¡
                Map<String, String> wrapper = Map.of("d", chunk);
                String jsonData = JSONUtil.toJsonStr(wrapper);
                return ServerSentEvent.<String>builder()
                        .data(jsonData)
                        .build();
            })
            .concatWith(Mono.just(
                    // å‘é€ç»“æŸäº‹ä»¶
                    ServerSentEvent.<String>builder()
                            .event("done")
                            .data("")
                            .build()
            ));
}
```

å†æ¬¡æµ‹è¯•ï¼Œæ•ˆæœå¦‚å›¾ï¼šp+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/HoeichuwTCk28DJT.webp)

ä¹‹åå‰ç«¯éœ€è¦ä» data å—ä¸­å–å‡ºæ•°æ®ï¼Œå¹¶é€šè¿‡ `event == done` åˆ¤æ–­äº‹ä»¶ç»“æŸã€‚

## äº”ã€åº”ç”¨éƒ¨ç½²ï¼ˆåç«¯ï¼‰

ä¹‹å‰æˆ‘ä»¬æ˜¯åœ¨æœ¬åœ°æ‰‹åŠ¨åŒå‡»æ‰“å¼€â  HTML æ–‡ä»¶æ¥â æŸ¥çœ‹ç½‘ç«™ç”Ÿæˆæ•ˆæœçš„ï¼Œä½†ç°åœ¨å¹³å°åŒ–äº†ï¼Œè‚¯å®šä¸èƒ½è®©ç”¨æˆ·ä¹Ÿè¿™ä¹ˆå¹²ã€‚

### éƒ¨ç½²æ–¹æ¡ˆ

éƒ¨ç½²çš„æ•´ä½“æ€è·¯æ˜¯ï¼šæŠŠæœ¬åœ°ç”Ÿæˆçš„æ–‡ä»¶åŒæ­¥åˆ°ä¸€ä¸ª **Web æœåŠ¡å™¨** ä¸Šã€‚å¯ä»¥æ˜¯åŒä¸€ä¸ªæœåŠ¡å™¨çš„ä¸åŒç›®å½•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸åŒæœåŠ¡å™¨ï¼Œä½†æ˜¾ç„¶å‰è€…æˆæœ¬æ›´ä½ã€‚qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/qgMiswQNzqe9LQNk.webp)

æˆ‘ä»¬æœ‰å‡ ç§éƒ¨ç½²æ–¹æ¡ˆå¯ä»¥é€‰æ‹©ï¼š

#### 1ã€**ä½¿ç”¨ Serve å·¥å…·**

è¿™æ˜¯æœ€ç®€å•çš„æ–¹æ¡ˆï¼Œé€šè¿‡ Node.js çš„ `serve` åŒ…å¯ä»¥å¿«é€Ÿå¯åŠ¨ä¸€ä¸ª web æœåŠ¡å™¨ï¼Œä¸ºæŒ‡å®šç›®å½•æä¾› Web è®¿é—®æœåŠ¡ã€‚

å…ˆå®‰è£… serve å·¥å…·ï¼š

```java
npm i -g serve
```

å‡è®¾ code\_output ç›®å½•å°±æ˜¯è¦éƒ¨ç½²çš„æ–‡ä»¶ç›®å½•ï¼Œåªéœ€è¦åœ¨è¿™ä¸ªç›®å½•å†…è¿è¡Œ `serve` å‘½ä»¤ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/wf470E664GNuUwmr.webp)

å°±èƒ½æŸ¥çœ‹åˆ°ç›®å½•å†…çš„ç½‘ç«™äº†ï¼š1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/DgYKX6TwuFq0VXBb.webp)

è®¿é—®å¯¹åº”çš„è·¯å¾„ï¼Œç›´æ¥å°±èƒ½è®¿é—®åˆ°å¯¹åº”çš„ç½‘ç«™ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/foCzCRIItwefbU1g.webp)EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

ä½¿ç”¨æ—¶ï¼Œåªéœ€æå‰åœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨ serveâ  æœåŠ¡å™¨ï¼Œå°±èƒ½ä¸ºç‰¹å®šéƒ¨ç½²ç›®å½•â æä¾› web æœåŠ¡ï¼ˆæ¯”å¦‚ deployedï¼‰ï¼Œç„¶åéƒ¨ç½²æ—¶å°†ä»£ç æ–‡ä»¶ç§»åŠ¨åˆ°è¿™ä¸ªç›®å½•ä¸‹å³å¯ã€‚

è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯é…ç½®ç®€å•ï¼›ç¼ºç‚¹æ˜¯ä¾èµ– Node.js ç¯å¢ƒï¼Œéœ€è¦ç‹¬ç«‹å¯åŠ¨ Web æœåŠ¡è¿›ç¨‹ï¼Œè€Œä¸”æ€§èƒ½ç›¸å¯¹è¾ƒä½ã€‚

ğŸ’¡ å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è®© seâ rve æœåŠ¡å™¨è·Ÿéšâ  Spring Boot é¡¹ç›®å¯åŠ¨æˆ–å…³é—­ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

1ï¼‰ä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œ serveï¼š

```java
@Service
public class ServeDeployService {
    
    private static final String CODE_BASE_DIR = "/tmp/deploy";
    private static final int SERVE_PORT = 3000;
    private static Process serveProcess;
    
    /**
     * å¯åŠ¨ Serve æœåŠ¡
     */
    public void startServeService() {
        try {
            if (serveProcess == null || !serveProcess.isAlive()) {
                ProcessBuilder pb = new ProcessBuilder(
                    "npx", "serve", CODE_BASE_DIR, "-p", String.valueOf(SERVE_PORT)
                );
                pb.redirectErrorStream(true);
                serveProcess = pb.start();
                System.out.println("Serve service started on port " + SERVE_PORT);
            }
        } catch (Exception e) {
            throw new RuntimeException("Failed to start serve service", e);
        }
    }
    
    /**
     * å…³é—­ Serve æœåŠ¡
     */
    public void stopServeService() {
        if (serveProcess != null && serveProcess.isAlive()) {
            serveProcess.destroy();
            try {
                serveProcess.waitFor(5, TimeUnit.SECONDS);
                System.out.println("Serve service stopped");
            } catch (InterruptedException e) {
                serveProcess.destroyForcibly();
                System.out.println("Serve service force stopped");
            }
        }
    }
}
```

2ï¼‰æ§åˆ¶ serve è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼šUzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

```java
@Component
public class ServeLifecycleManager {
    
    @Autowired
    private ServeDeployService serveDeployService;
    
    /**
     * Spring Boot å¯åŠ¨å®Œæˆåå¯åŠ¨ Serve æœåŠ¡
     */
    @EventListener(ApplicationReadyEvent.class)
    public void onApplicationReady() {
        serveDeployService.startServeService();
    }
    
    /**
     * Spring Boot å…³é—­æ—¶åœæ­¢ Serve æœåŠ¡
     */
    @PreDestroy
    public void onApplicationShutdown() {
        System.out.println("Shutting down Serve service...");
        serveDeployService.stopServeService();
    }
}
```

#### 2ã€é€šè¿‡ Spring Boot æ¥å£

æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨åç«¯é¡¹ç›®ä¸­å®ç°â ä¸€ä¸ªé™æ€èµ„æºæœåŠ¡æ¥â å£ï¼Œè¾“å…¥éƒ¨ç½²è·¯å¾„ï¼Œè¿”å›ç›¸åº”çš„æ–‡ä»¶ï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

```java
@RestController
@RequestMapping("/static")
public class StaticResourceController {

    // åº”ç”¨ç”Ÿæˆæ ¹ç›®å½•ï¼ˆç”¨äºæµè§ˆï¼‰
    private static final String PREVIEW_ROOT_DIR = System.getProperty("user.dir") + "/tmp/code_output";

    /**
     * æä¾›é™æ€èµ„æºè®¿é—®ï¼Œæ”¯æŒç›®å½•é‡å®šå‘
     * è®¿é—®æ ¼å¼ï¼šhttp://localhost:8123/api/static/{deployKey}[/{fileName}]
     */
    @GetMapping("/{deployKey}/**")
    public ResponseEntity<Resource> serveStaticResource(
            @PathVariable String deployKey,
            HttpServletRequest request) {
        try {
            // è·å–èµ„æºè·¯å¾„
            String resourcePath = (String) request.getAttribute(HandlerMapping.PATH_WITHIN_HANDLER_MAPPING_ATTRIBUTE);
            resourcePath = resourcePath.substring(("/static/" + deployKey).length());
            // å¦‚æœæ˜¯ç›®å½•è®¿é—®ï¼ˆä¸å¸¦æ–œæ ï¼‰ï¼Œé‡å®šå‘åˆ°å¸¦æ–œæ çš„URL
            if (resourcePath.isEmpty()) {
                HttpHeaders headers = new HttpHeaders();
                headers.add("Location", request.getRequestURI() + "/");
                return new ResponseEntity<>(headers, HttpStatus.MOVED_PERMANENTLY);
            }
            // é»˜è®¤è¿”å› index.html
            if (resourcePath.equals("/")) {
                resourcePath = "/index.html";
            }
            // æ„å»ºæ–‡ä»¶è·¯å¾„
            String filePath = PREVIEW_ROOT_DIR + "/" + deployKey + resourcePath;
            File file = new File(filePath);
            // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
            if (!file.exists()) {
                return ResponseEntity.notFound().build();
            }
            // è¿”å›æ–‡ä»¶èµ„æº
            Resource resource = new FileSystemResource(file);
            return ResponseEntity.ok()
                    .header("Content-Type", getContentTypeWithCharset(filePath))
                    .body(resource);
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();
        }
    }

    /**
     * æ ¹æ®æ–‡ä»¶æ‰©å±•åè¿”å›å¸¦å­—ç¬¦ç¼–ç çš„ Content-Type
     */
    private String getContentTypeWithCharset(String filePath) {
        if (filePath.endsWith(".html")) return "text/html; charset=UTF-8";
        if (filePath.endsWith(".css")) return "text/css; charset=UTF-8";
        if (filePath.endsWith(".js")) return "application/javascript; charset=UTF-8";
        if (filePath.endsWith(".png")) return "image/png";
        if (filePath.endsWith(".jpg")) return "image/jpeg";
        return "application/octet-stream";
    }
}
```

æµ‹è¯•è®¿é—®ï¼Œæ•ˆæœå¦‚å›¾ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/p7shdFXzLWIDh2JV.webp)cZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/ug16NjsoZSlnK88Q.webp)

è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯æ— éœ€é¢å¤–è¿›ç¨‹â ï¼Œéå¸¸æ–¹ä¾¿ï¼›ç¼ºç‚¹æ˜¯â åŠŸèƒ½ç›¸å¯¹ç®€å•ï¼Œæ€§èƒ½ä¹Ÿä¸å¦‚ä¸“ä¸šçš„ Web æœåŠ¡å™¨ã€‚

#### 3ã€ä½¿ç”¨ Nginx æ˜ å°„

Nginx æ˜¯ä¸“ä¸šçš„ Web æœåŠ¡å™¨ï¼Œæ€§èƒ½ä¼˜å¼‚ï¼ŒåŠŸèƒ½ä¸°å¯Œã€‚**å› æ­¤è¿™æ˜¯æœ€æ¨èçš„ç”Ÿäº§ç¯å¢ƒæ–¹æ¡ˆã€‚**

1ï¼‰é¦–å…ˆåˆ° [Nginx å®˜ç½‘](https://nginx.org/en/download.html) ä¸‹è½½ Nginxï¼Œå„ä¸ªæ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…éƒ½æœ‰ã€‚

ä¸‹è½½å¥½ Nginx åï¼Œæ‰¾åˆ° Nginx é…ç½®æ–‡ä»¶ `nginx.conf`ï¼ŒWindows ç³»ç»Ÿç›´æ¥åˆ°å®‰è£…ç›®å½•ä¸‹æ‰¾ï¼ŒMac / Linux ç³»ç»Ÿå¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹ Nginx é…ç½®æ–‡ä»¶ä½ç½®ï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

```shell
nginx -t
```

å¦‚å›¾ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/17kOml1ypIgI7Ohj.webp)p+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

2ï¼‰ä¿®æ”¹ Nginx é…ç½®ï¼Œâ http å—ä¸­æ·»åŠ â  server å—ï¼Œé…ç½® root ä¸ºé¡¹ç›®éƒ¨ç½²æ ¹ç›®å½•ï¼š

```nginx
# é™æ€èµ„æºæœåŠ¡å™¨ - 80 ç«¯å£
server {
    listen       80;
    server_name  localhost;
    charset      utf-8;
    charset_types text/css application/javascript text/plain text/xml application/json;
    # é¡¹ç›®éƒ¨ç½²æ ¹ç›®å½•
    root         /Users/yupi/Code/yu-ai-code-mother/tmp/code_deploy;
    
    # å¤„ç†æ‰€æœ‰è¯·æ±‚
    location ~ ^/([^/]+)/(.*)$ {
        try_files /$1/$2 /$1/index.html =404;
    }
}
```

æ³¨æ„ï¼ŒWindows ç³»ç»Ÿçš„è·¯å¾„æ–œæ è¦ç›¸åï¼Œæ¯”å¦‚ `C:/code/yu-ai-code-mother_live/tmp/code_deploy`qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

ä¸Šè¿°é…ç½®ä¸­ä½¿ç”¨äº† `try_files` æŒ‡ä»¤ï¼Œèƒ½å¤ŸæŒ‰é¡ºåºå°è¯•å¤šä¸ªæ–‡ä»¶è·¯å¾„ï¼Œä»è€Œæ›´çµæ´»åœ°å¤„ç†æ–‡ä»¶è®¿é—®ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“è®¿é—® `/app/style.css` æ—¶ï¼Œä¼šå…ˆå°è¯•æ‰¾åˆ° `/app/style.css` æ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› `/app/index.html`ï¼Œæœ€åæ‰è¿”å› 404 é”™è¯¯ï¼Œè¿™æ ·èƒ½å¤Ÿé€‚é…åç»­æˆ‘ä»¬è¦ç”Ÿæˆçš„ Vue å•é¡µé¢åº”ç”¨ã€‚

ğŸ’¡ try\_files æŒ‡ä»¤çš„å…·ä½“è§£é‡Šï¼š

-   /$1/$2ï¼šç¬¬ä¸€ä¸ªå°è¯•çš„è·¯å¾„
-   /$1/index.htmlï¼šç¬¬äºŒä¸ªå°è¯•çš„è·¯å¾„
-   \=404ï¼šå¦‚æœéƒ½æ‰¾ä¸åˆ°ï¼Œè¿”å› 404 é”™è¯¯

ä¸¾äº›ä¾‹å­ï¼š

nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=dWCTYpHEFA/xV8BrvOpKRqkO1d88b9Ip8VkvBeLuZho=nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=cZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=p+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=WBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

|è®¿é—®URL|$1|$2qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=|å°è¯•è·¯å¾„1|å°è¯•è·¯å¾„2|
|---|---|---|---|---|
|/app/|app|""F+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=|/app/|/app/index.html|
|/app/style.css|app|style.cssnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=|/app/style.css|/app/index.html|
|/app/js/main.js|app|js/main.jsEVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=|/app/js/main.js|/app/index.html|

3ï¼‰å¯åŠ¨ Nginxï¼Œæˆ–è€…è¾“å…¥å‘½ä»¤æ¥é‡è½½é…ç½®ï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

```bash
nginx -s reload
```

ç„¶åç›´æ¥è®¿é—® 80 ç«¯å£ï¼Œå°±èƒ½çœ‹åˆ°ç½‘ç«™äº†ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/u0vjg5m7L4DPYL5S.webp)nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

è¿™ç§æ–¹æ¡ˆçš„æ€§èƒ½æœ€ä½³ï¼Œæœ€é€‚åˆç”Ÿâ äº§ç¯å¢ƒï¼›ç¼ºç‚¹æ˜¯éœ€è¦â é¢å¤–å¼•å…¥ Nginx ç»„ä»¶ã€‚

ğŸ’¡ å…¶å®è¿˜å¯ä»¥ç”¨ COS å¯¹è±¡å­˜å‚¨çš„é™æ€â ç½‘ç«™è®¿é—®èƒ½åŠ›ï¼ŒåŒæ—¶å®ç°å­˜å‚¨ â + è®¿é—®ï¼›ç¼ºç‚¹æ˜¯éœ€è¦è‡ªå®šä¹‰åŸŸåï¼Œè€ƒè™‘åˆ°å¾ˆå¤šæœ‹å‹æ²¡æœ‰åŸŸåï¼Œæ‰€ä»¥æ•™ç¨‹ä¸­ä¸é€‰æ‹©è¿™ç§æ–¹æ¡ˆã€‚

#### æœ€ç»ˆæ–¹æ¡ˆ

åŸºäºä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº†æ··åˆæ–¹æ¡ˆâ ï¼šä½¿ç”¨ Spring Bâ oot æ¥å£å®ç° AI ç”Ÿæˆçš„ç½‘é¡µé¢„è§ˆï¼Œä½¿ç”¨ Nginx æä¾›ç½‘ç«™éƒ¨ç½²æœåŠ¡ã€‚

### å¼€å‘

éƒ¨ç½²æ¥å£æ¥å— appId ä½œä¸ºè¯·æ±‚å‚æ•°ï¼Œè¿”å›å¯è®¿é—®çš„ URL åœ°å€ `${éƒ¨ç½²åŸŸå}/{deployKey}`ã€‚F+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

éƒ¨ç½²æµç¨‹å¦‚ä¸‹ï¼š

1.  å‚æ•°æ ¡éªŒï¼šæ¯”å¦‚æ˜¯å¦å­˜åœ¨ Appã€ç”¨æˆ·æ˜¯å¦æœ‰æƒé™éƒ¨ç½²è¯¥åº”ç”¨ï¼ˆä»…æœ¬äººå¯ä»¥éƒ¨ç½²ï¼‰
2.  ç”Ÿæˆ deployKeyï¼šä¹‹å‰è®¾è®¡åº“è¡¨æ—¶å·²ç»æåˆ°äº† deployKey çš„ç”Ÿæˆé€»è¾‘ï¼ˆ6 ä½å¤§å°å†™å­—æ¯ + æ•°å­—ï¼‰ï¼Œè¿˜è¦æ³¨æ„ä¸èƒ½è·Ÿå·²æœ‰çš„ key é‡å¤ï¼›æ­¤å¤–ï¼Œæ¯ä¸ª app åªç”Ÿæˆä¸€æ¬¡ deployKeyï¼Œå·²æœ‰åˆ™ä¸ç”Ÿæˆã€‚
3.  éƒ¨ç½²æ“ä½œï¼šæœ¬è´¨æ˜¯å°† `code_output` ç›®å½•ä¸‹çš„ä¸´æ—¶æ–‡ä»¶å¤åˆ¶åˆ° `code_deploy` ç›®å½•ä¸‹ï¼Œä¸ºäº†ç®€åŒ–è®¿é—®åœ°å€ï¼Œç›´æ¥å°† deployKey ä½œä¸ºæ–‡ä»¶åã€‚

1ï¼‰é¦–å…ˆåœ¨ `AppConstant` ä¸­å®šä¹‰å¸¸é‡ï¼šEVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

```java
/**
 * åº”ç”¨ç”Ÿæˆç›®å½•
 */
String CODE_OUTPUT_ROOT_DIR = System.getProperty("user.dir") + "/tmp/code_output";

/**
 * åº”ç”¨éƒ¨ç½²ç›®å½•
 */
String CODE_DEPLOY_ROOT_DIR = System.getProperty("user.dir") + "/tmp/code_deploy";

/**
 * åº”ç”¨éƒ¨ç½²åŸŸå
 */
String CODE_DEPLOY_HOST = "http://localhost";
```

CodeFileSaverTâ emplate ä¸­â ä½¿ç”¨æ–‡ä»¶ä¿å­˜æ ¹ç›®å½•å¸¸é‡ï¼ˆç”¨äºä¿å­˜ç”Ÿæˆçš„æ–‡ä»¶ï¼‰ï¼š

```java
// æ–‡ä»¶ä¿å­˜æ ¹ç›®å½•
protected static final String FILE_SAVE_ROOT_DIR = AppConstant.CODE_OUTPUT_ROOT_DIR;
```

StaticResourceâ Controlleâ r ä¸­ä½¿ç”¨æ–‡ä»¶ä¿å­˜æ ¹ç›®å½•å¸¸é‡ï¼Œå› ä¸ºè¦åœ¨ç”Ÿæˆæ—¶å°±é¢„è§ˆæ•ˆæœï¼š

```java
// åº”ç”¨ç”Ÿæˆæ ¹ç›®å½•ï¼ˆç”¨äºæµè§ˆï¼‰
private static final String PREVIEW_ROOT_DIR = AppConstant.CODE_OUTPUT_ROOT_DIR;
```

2ï¼‰ç¼–å†™éƒ¨ç½²è¯·æ±‚ç±»ï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

```java
@Data
public class AppDeployRequest implements Serializable {

    /**
     * åº”ç”¨ id
     */
    private Long appId;

    private static final long serialVersionUID = 1L;
}
```

3ï¼‰åŸºäºä¸Šè¿°æµç¨‹ï¼Œåœ¨ Appâ Service ä¸­â ç¼–å†™éƒ¨ç½²æœåŠ¡çš„ä»£ç ï¼š

```java
@Override
public String deployApp(Long appId, User loginUser) {
    // 1. å‚æ•°æ ¡éªŒ
    ThrowUtils.throwIf(appId == null || appId <= 0, ErrorCode.PARAMS_ERROR, "åº”ç”¨ ID ä¸èƒ½ä¸ºç©º");
    ThrowUtils.throwIf(loginUser == null, ErrorCode.NOT_LOGIN_ERROR, "ç”¨æˆ·æœªç™»å½•");
    // 2. æŸ¥è¯¢åº”ç”¨ä¿¡æ¯
    App app = this.getById(appId);
    ThrowUtils.throwIf(app == null, ErrorCode.NOT_FOUND_ERROR, "åº”ç”¨ä¸å­˜åœ¨");
    // 3. éªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰æƒé™éƒ¨ç½²è¯¥åº”ç”¨ï¼Œä»…æœ¬äººå¯ä»¥éƒ¨ç½²
    if (!app.getUserId().equals(loginUser.getId())) {
        throw new BusinessException(ErrorCode.NO_AUTH_ERROR, "æ— æƒé™éƒ¨ç½²è¯¥åº”ç”¨");
    }
    // 4. æ£€æŸ¥æ˜¯å¦å·²æœ‰ deployKey
    String deployKey = app.getDeployKey();
    // æ²¡æœ‰åˆ™ç”Ÿæˆ 6 ä½ deployKeyï¼ˆå¤§å°å†™å­—æ¯ + æ•°å­—ï¼‰
    if (StrUtil.isBlank(deployKey)) {
        deployKey = RandomUtil.randomString(6);
    }
    // 5. è·å–ä»£ç ç”Ÿæˆç±»å‹ï¼Œæ„å»ºæºç›®å½•è·¯å¾„
    String codeGenType = app.getCodeGenType();
    String sourceDirName = codeGenType + "_" + appId;
    String sourceDirPath = AppConstant.CODE_OUTPUT_ROOT_DIR + File.separator + sourceDirName;
    // 6. æ£€æŸ¥æºç›®å½•æ˜¯å¦å­˜åœ¨
    File sourceDir = new File(sourceDirPath);
    if (!sourceDir.exists() || !sourceDir.isDirectory()) {
        throw new BusinessException(ErrorCode.SYSTEM_ERROR, "åº”ç”¨ä»£ç ä¸å­˜åœ¨ï¼Œè¯·å…ˆç”Ÿæˆä»£ç ");
    }
    // 7. å¤åˆ¶æ–‡ä»¶åˆ°éƒ¨ç½²ç›®å½•
    String deployDirPath = AppConstant.CODE_DEPLOY_ROOT_DIR + File.separator + deployKey;
    try {
        FileUtil.copyContent(sourceDir, new File(deployDirPath), true);
    } catch (Exception e) {
        throw new BusinessException(ErrorCode.SYSTEM_ERROR, "éƒ¨ç½²å¤±è´¥ï¼š" + e.getMessage());
    }
    // 8. æ›´æ–°åº”ç”¨çš„ deployKey å’Œéƒ¨ç½²æ—¶é—´
    App updateApp = new App();
    updateApp.setId(appId);
    updateApp.setDeployKey(deployKey);
    updateApp.setDeployedTime(LocalDateTime.now());
    boolean updateResult = this.updateById(updateApp);
    ThrowUtils.throwIf(!updateResult, ErrorCode.OPERATION_ERROR, "æ›´æ–°åº”ç”¨éƒ¨ç½²ä¿¡æ¯å¤±è´¥");
    // 9. è¿”å›å¯è®¿é—®çš„ URL
    return String.format("%s/%s/", AppConstant.CODE_DEPLOY_HOST, deployKey);
}
```

è¿™ä¸ªå®ç°çš„ä¼˜ç‚¹åœ¨äºæ”¯æŒé‡å¤éƒ¨ç½²ã€‚å¦‚æœåº”ç”¨å·²ç»æœ‰ deploâ yKeyï¼Œå°±ç›´æ¥ä½¿ç”¨ç°æœ‰çš„ï¼›å¦‚æœæ²¡æœ‰ï¼Œâ å°±ç”Ÿæˆä¸€ä¸ªæ–°çš„ã€‚è¿™æ ·æ—¢ä¿è¯äº† URL çš„ç¨³å®šæ€§ï¼Œåˆæ”¯æŒäº†ä»£ç çš„æ›´æ–°ã€‚ç¼ºç‚¹æ˜¯ä¸æ”¯æŒåŒºåˆ†åŒä¸€ä¸ªåº”ç”¨å¤šæ¬¡éƒ¨ç½²çš„ç‰ˆæœ¬ã€‚

ğŸ’¡ å¦‚æœç³»ç»Ÿç”¨é‡æå¤§ï¼Œä¸ºäº†å‡å°‘ deplâ oyKey é‡å¤æ¦‚ç‡ï¼Œå¯ä»¥æ·»â åŠ æ•°æ®åº“æŸ¥é‡ + é‡è¯•ã€‚ä½†æˆ‘è§‰å¾—æ¦‚ç‡å¤ªä½äº†ï¼Œç”¨æˆ·è‡ªå·±é‡è¯•çš„æˆæœ¬ä¹Ÿä¸é«˜ï¼Œå°±ä¸åŠ äº†ã€‚

4ï¼‰ç¼–å†™æ¥å£ï¼šcZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

```java
/**
 * åº”ç”¨éƒ¨ç½²
 *
 * @param appDeployRequest éƒ¨ç½²è¯·æ±‚
 * @param request          è¯·æ±‚
 * @return éƒ¨ç½² URL
 */
@PostMapping("/deploy")
public BaseResponse<String> deployApp(@RequestBody AppDeployRequest appDeployRequest, HttpServletRequest request) {
    ThrowUtils.throwIf(appDeployRequest == null, ErrorCode.PARAMS_ERROR);
    Long appId = appDeployRequest.getAppId();
    ThrowUtils.throwIf(appId == null || appId <= 0, ErrorCode.PARAMS_ERROR, "åº”ç”¨ ID ä¸èƒ½ä¸ºç©º");
    // è·å–å½“å‰ç™»å½•ç”¨æˆ·
    User loginUser = userService.getLoginUser(request);
    // è°ƒç”¨æœåŠ¡éƒ¨ç½²åº”ç”¨
    String deployUrl = appService.deployApp(appId, loginUser);
    return ResultUtils.success(deployUrl);
}
```

### æµ‹è¯•

æ‰¾ä¸€ä¸ªç”Ÿæˆè¿‡ç½‘ç«™çš„ appId æ¥æµ‹è¯•éƒ¨ç½²ï¼ŒéªŒè¯æˆåŠŸï¼šUzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/VurWT5KikZ45aq25.webp)

å¯ä»¥çœ‹åˆ°éƒ¨ç½²æ–‡ä»¶ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/REwRfGk2vKZG7NRt.webp)EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

æ•°æ®åº“å†…çš„ä¿¡æ¯ä¹Ÿæ˜¯æ­£ç¡®çš„ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/fDfS7dppJgkHMnZh.webp)

è‡³æ­¤ï¼Œåº”ç”¨æ¨¡å—çš„åç«¯å¼€å‘å®Œæˆã€‚EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

## å…­ã€å‰ç«¯å¼€å‘

åç«¯å¼€å‘å®Œæˆåï¼Œè®°å¾—å…ˆæ‰§è¡Œ `openapi` å‘½ä»¤ï¼Œæ ¹æ®æ¥å£ç”Ÿæˆå‰ç«¯è¯·æ±‚å’Œæ•°æ®æ¨¡å‹ä»£ç ã€‚

### åŸºç¡€ä»£ç å®ç° - Vibe Coding

ç”±äºå‰ç«¯å¼€å‘æ¶‰åŠå¤šä¸ªé¡µé¢å’Œå¤æ‚â çš„äº¤äº’é€»è¾‘ï¼Œæˆ‘ä»¬å¯ä»¥â å……åˆ†åˆ©ç”¨ AI æ¥æé«˜å¼€å‘æ•ˆç‡ã€‚å…³é”®æ˜¯è¦æä¾›è¶³å¤Ÿè¯¦ç»†çš„æç¤ºè¯ã€‚

å»ºè®®å¯¹ AI ä¸ç†Ÿã€å‰ç«¯ç»éªŒè¾ƒâ å°‘çš„åŒå­¦åˆ†æˆå¤šä¸ªé¡µé¢â ä¾æ¬¡å»ç”Ÿæˆã€‚æˆ‘è¿™é‡Œæœ‰ç‚¹å„¿è‡ªä¿¡ï¼Œå°±äº¤ç»™ AI ä¸€æŠŠæ¢­ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š

```markdown
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„å‰ç«¯å¼€å‘ï¼Œå¸®æˆ‘æ ¹æ®åŸå‹å›¾ã€é¡µé¢ä»‹ç»ã€éœ€æ±‚ä»‹ç»ã€ä¸šåŠ¡æµç¨‹å’Œåç«¯æ¥å£ä¿¡æ¯ï¼Œå‚è€ƒé¡¹ç›®å·²æœ‰çš„ä»£ç é£æ ¼ï¼Œç”Ÿæˆç¬¦åˆè¦æ±‚çš„å®Œæ•´ä»£ç ã€‚

## é¡µé¢ä»‹ç»

1ï¼‰ä¸»é¡µï¼ˆå‚è€ƒåŸå‹å›¾ 1ã€2ï¼‰ï¼šä»ä¸Šåˆ°ä¸‹ï¼Œåˆ†åˆ«æ˜¯ç½‘ç«™æ ‡é¢˜ã€ç”¨æˆ·æç¤ºè¯è¾“å…¥æ¡†ã€æˆ‘çš„åº”ç”¨åˆ†é¡µåˆ—è¡¨ã€ç²¾é€‰åº”ç”¨åˆ†é¡µåˆ—è¡¨
2ï¼‰åº”ç”¨ç”Ÿæˆå¯¹è¯é¡µï¼ˆå‚è€ƒåŸå‹å›¾ 3ï¼‰ï¼š
- é¡¶éƒ¨æ çš„å·¦ä¾§æ˜¯åº”ç”¨åç§°ï¼Œå³ä¾§æ˜¯éƒ¨ç½²æŒ‰é’®ï¼Œé¡¶éƒ¨æ ä¸‹æ–¹æ˜¯æ ¸å¿ƒå†…å®¹åŒºåŸŸ
- æ ¸å¿ƒå†…å®¹åŒºåŸŸï¼š
  - å·¦ä¾§æ˜¯å¯¹è¯åŒºåŸŸï¼Œå·¦ä¾§è‡ªç„¶è€Œä¸‹åˆ†åˆ«æ˜¯æ¶ˆæ¯åŒºåŸŸï¼ˆç”¨æˆ·æ¶ˆæ¯åœ¨å³ã€AI æ¶ˆæ¯åœ¨å·¦ï¼‰ã€ç”¨æˆ·æ¶ˆæ¯è¾“å…¥æ¡†
  - å³ä¾§æ˜¯ç½‘é¡µå±•ç¤ºåŒºåŸŸï¼Œå½“ç½‘ç«™æ–‡ä»¶ç”Ÿæˆå®Œæˆï¼ˆæµå¼æ¥å£å…¨éƒ¨è¿”å›åï¼‰å±•ç¤º
3ï¼‰åº”ç”¨ç®¡ç†é¡µï¼šä»…ç®¡ç†å‘˜å¯è¿›å…¥ã€å¯ä»¥åœ¨èœå•é¡¹ä¸Šçœ‹åˆ°ï¼Œç®¡ç†é¡µæ ·å¼å’Œç”¨æˆ·ç®¡ç†é¡µé¢ç›¸åŒã€‚
æ“ä½œæ æä¾›æŒ‰é’®ï¼š
- ç¼–è¾‘ï¼šæ–°å¼€é¡µé¢è·³è½¬åˆ°åº”ç”¨ä¿¡æ¯ä¿®æ”¹é¡µè¿›è¡Œç¼–è¾‘
- åˆ é™¤
- ç²¾é€‰ï¼šè®¾ç½®åº”ç”¨ä¼˜å…ˆçº§ä¸º 99ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ç¼–è¾‘
4ï¼‰åº”ç”¨ä¿¡æ¯ä¿®æ”¹é¡µï¼šç”¨æˆ·å’Œç®¡ç†å‘˜éƒ½å¯ä»¥è¿›å…¥ï¼Œä½†æ™®é€šç”¨æˆ·åªèƒ½ç¼–è¾‘è‡ªå·±çš„åº”ç”¨

## éœ€æ±‚ä»‹ç»

ç”¨æˆ·å¯ä»¥åœ¨æœ¬ç½‘ç«™é€šè¿‡å’Œ AI å¯¹è¯åˆ›å»ºç½‘ç«™åº”ç”¨ã€æŸ¥çœ‹ç”Ÿæˆçš„ç½‘ç«™åº”ç”¨æ•ˆæœã€éƒ¨ç½²åº”ç”¨ã€ç®¡ç†ä¸ªäººåº”ç”¨ã€æŸ¥çœ‹ç²¾é€‰åº”ç”¨ï¼›ç®¡ç†å‘˜å¯ä»¥å¯¹æ•´ä¸ªç½‘ç«™çš„ä»»æ„åº”ç”¨è¿›è¡Œç®¡ç†ã€‚

å…·ä½“éœ€æ±‚å¦‚ä¸‹ï¼š
- ã€ç”¨æˆ·ã€‘è¾“å…¥ç”¨æˆ·æç¤ºè¯æ¥åˆ›å»ºåº”ç”¨
- ã€ç”¨æˆ·ã€‘ä¿®æ”¹è‡ªå·±çš„åº”ç”¨ä¿¡æ¯ï¼ˆç›®å‰åªæ”¯æŒä¿®æ”¹åº”ç”¨åç§°ï¼‰
- ã€ç”¨æˆ·ã€‘åˆ é™¤è‡ªå·±çš„åº”ç”¨
- ã€ç”¨æˆ·ã€‘æŸ¥çœ‹åº”ç”¨è¯¦æƒ…
- ã€ç”¨æˆ·ã€‘é€šè¿‡å’Œ AI å¯¹è¯ç”Ÿæˆç½‘ç«™åº”ç”¨ï¼Œå¹¶æŸ¥çœ‹æ•ˆæœ
- ã€ç”¨æˆ·ã€‘éƒ¨ç½²åº”ç”¨
- ã€ç”¨æˆ·ã€‘åˆ†é¡µæŸ¥è¯¢è‡ªå·±çš„åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®åç§°æŸ¥è¯¢ï¼Œæ¯é¡µæœ€å¤š 20 ä¸ªï¼‰
- ã€ç”¨æˆ·ã€‘åˆ†é¡µæŸ¥è¯¢ç²¾é€‰çš„åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®åç§°æŸ¥è¯¢ï¼Œæ¯é¡µæœ€å¤š 20 ä¸ªï¼‰
- ã€ç®¡ç†å‘˜ã€‘åˆ é™¤ä»»æ„åº”ç”¨
- ã€ç®¡ç†å‘˜ã€‘æ›´æ–°ä»»æ„åº”ç”¨ä¿¡æ¯ï¼ˆæ”¯æŒæ›´æ–°åº”ç”¨åç§°ã€åº”ç”¨å°é¢ã€ä¼˜å…ˆçº§ï¼‰
- ã€ç®¡ç†å‘˜ã€‘åˆ†é¡µæŸ¥è¯¢åº”ç”¨åˆ—è¡¨ï¼ˆæ”¯æŒæ ¹æ®é™¤æ—¶é—´å¤–çš„ä»»ä½•å­—æ®µæŸ¥è¯¢ï¼Œæ¯é¡µæ•°é‡ä¸é™ï¼‰
- ã€ç®¡ç†å‘˜ã€‘æŸ¥çœ‹ä»»æ„åº”ç”¨è¯¦æƒ…

## ä¸šåŠ¡æµç¨‹

1ï¼‰ç”¨æˆ·åœ¨ä¸»é¡µè¾“å…¥æ¡†è¾“å…¥æç¤ºè¯åï¼Œè°ƒç”¨åˆ›å»ºåº”ç”¨æ¥å£å¾—åˆ°åº”ç”¨ idï¼Œç„¶åè·³è½¬åˆ°å¯¹è¯é¡µé¢ï¼›è‡ªåŠ¨å°†åº”ç”¨çš„åˆå§‹æç¤ºè¯ä½œä¸ºæ¶ˆæ¯å‘é€ç»™ AIï¼Œå¹¶ä¸”é€šè¿‡ SSE å¯¹è¯æ¥å£å®æ—¶è¾“å‡º AI çš„å›å¤ï¼›å½“ AI å›å¤å®Œåï¼Œè‡ªåŠ¨åœ¨å³ä¾§å±•ç¤ºç”Ÿæˆçš„ç½‘ç«™æ•ˆæœã€‚ï¼ˆæœ¬åœ°åŸŸåä¸º http://localhost:8123/api/static/{codeGenType}_{appId}/ï¼‰

2ï¼‰ç”¨æˆ·å¯ä»¥åœ¨å¯¹è¯é¡µé¢éƒ¨ç½²ç½‘ç«™ï¼Œè°ƒç”¨åç«¯éƒ¨ç½²æ¥å£ï¼Œå¾—åˆ°å¯è®¿é—®çš„ URL åœ°å€ã€‚

3ï¼‰å…¶ä»–ä¸šåŠ¡å‚è€ƒéœ€æ±‚ä»‹ç»ï¼Œè°ƒç”¨å¯¹åº”çš„åç«¯æ¥å£å®ç°

## åç«¯æ¥å£

å·²ç»åœ¨ @api ç›®å½•ä¸‹ç”Ÿæˆäº†åç«¯è¯·æ±‚ä»£ç å’Œæ•°æ®ç±»å‹ä¿¡æ¯ï¼Œè¯¦ç»†çš„æ¥å£æ–‡æ¡£æˆ‘ä¹Ÿä½œä¸ºæ–‡ä»¶æä¾›ç»™äº†ä½  @æ¥å£æ–‡æ¡£.mdã€‚
```

éœ€è¦å…³è”çš„åŸå‹å›¾ 1 - ä¸»é¡µä¸Šæ–¹ï¼ˆå‚è€ƒå¤§å‚é¡µé¢è®¾è®¡ï¼‰ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/cudrG6NuNlFamp0n.webp "null")

åŸå‹å›¾ 2 - ä¸»é¡µä¸‹æ–¹ï¼ˆå‚è€ƒå¤§å‚é¡µé¢è®¾è®¡ï¼‰ï¼šWBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/iEjvBvaLQZLuhqtq.webp "null")

åŸå‹å›¾ 3 - å¯¹è¯é¡µé¢ï¼ˆå‚è€ƒå¤§å‚é¡µé¢è®¾è®¡ï¼‰ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/ZEaKGnhNRxlecp8U.webp "null")nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

è¿˜è¦å…³è”æ¥å£æ–‡æ¡£ï¼Œå¯ä»¥ç›´æ¥åœ¨ Swagger é‡Œå¯¼å‡ºï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/R3Wn73KzAxdmbYi5.webp)

æ³¨æ„ï¼Œä¸€å®šè¦å…³è”ä¸Šç›¸å…³å†…å®¹ï¼â å»ºè®®å¼€å¯æ–°å¯¹è¯æ‰§è¡Œâ ï¼Œå‡å°‘å†å²å¹²æ‰°å› ç´ ï¼šdWCTYpHEFA/xV8BrvOpKRqkO1d88b9Ip8VkvBeLuZho=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/MUqiJyIFiXDovlOc.webp)

ç­‰å¾…å‡ åˆ†é’Ÿï¼ŒAI ä¸ä»…ç”Ÿæˆäº†ä»£ç ã€è¿˜ç”Ÿæˆäº† README.md æ–‡æ¡£ï¼Œå»ºè®®å…ˆçœ‹è¿™ä¸ªæ–‡æ¡£æ¥äº†è§£ AI éƒ½å¹²äº†å“ªäº›äº‹æƒ…ã€‚

![](https://pic.code-nav.cn/course_picture/1608440217629360130/bR70HLvWokSdbWUK.webp)1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

é€šè¿‡æä¾›è¯¦ç»†çš„éœ€æ±‚ã€åŸå‹å›¾å’Œâ æ–‡æ¡£ï¼ŒAI èƒ½å¤Ÿç”Ÿâ æˆè´¨é‡å¾ˆé«˜çš„å‰ç«¯ä»£ç ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚

æ³¨æ„ï¼Œç”±äº AI ç”Ÿæˆçš„ä»£ç â æ¯æ¬¡éƒ½ä¸åŒï¼Œæ‰€ä»¥æ¥â ä¸‹æ¥æˆ‘ä»¬è¦å­¦ä¹ çš„æ˜¯é€šç”¨çš„åŠŸèƒ½éªŒæ”¶æµç¨‹ã€ä»¥åŠå¸¸è§é—®é¢˜çš„å¤„ç†æ–¹æ³•ã€‚

å¤§å®¶å³ä½¿æ— æ³•ç”Ÿæˆå¯ç”¨çš„ä»£ç ä¹Ÿæ²¡å…³ç³»ï¼Œå¯ä»¥ç›´æ¥ä» [æœ¬é¡¹ç›®çš„æºç ](https://github.com/liyupi/yu-ai-code-mother) è·å–ã€‚F+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

-   ğŸ“AI ç”Ÿæˆå‰ç«¯ä»£ç .zip
-   ğŸ“yu-ai-code-mother-frontendï¼ˆæœ€ç»ˆç‰ˆï¼‰.rar

[ğŸ‘† èµ„æºè·å–æ–‡æ¡£](https://yuyuanweb.yuque.com/org-wiki-yuyuanweb-zvq1bg/webrf4/kquwk9bzruniczdg?singleDoc#)ï¼šå¯†ç  tpkb

> ç¬¬ä¸€æ¬¡éœ€ç™»å½•è¯­é›€è´¦å·ï¼Œæ˜¾ç¤ºæ— æƒé™ï¼Œå†è®¿é—® ğŸ‘† é“¾æ¥å’Œå¯†ç 

### æ ¸å¿ƒåŠŸèƒ½éªŒæ”¶

æˆ‘ä»¬éœ€è¦å¯¹ç…§ç€éœ€æ±‚æ–‡æ¡£éªŒæ”¶åŠŸèƒ½ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªå»ºè®®ï¼š

1.  ä¸€å®šæ˜¯å…ˆç¡®ä¿åŠŸèƒ½å¯ç”¨ï¼Œå†ä¼˜åŒ–æ ·å¼å’Œç»†èŠ‚ã€‚
2.  å…ˆéªŒæ”¶æœ€éš¾å®ç°çš„åŠŸèƒ½ï¼Œæˆ–è€…è·‘é€šæ ¸å¿ƒä¸šåŠ¡æµç¨‹ã€‚åªè¦å¤æ‚çš„é—®é¢˜ AI èƒ½å¤Ÿè§£å†³ï¼Œå…¶ä»–çš„éƒ½ä¸æ˜¯äº‹å„¿~
3.  å»ºè®®æ¯æ¬¡ AI ç”Ÿæˆå®Œæˆåå…ˆæäº¤ä¸‹ä»£ç ï¼Œä¹‹åæ¯ä¿®å¤ä¸€ä¸ªé—®é¢˜ã€æˆ–è€…è¿›è¡Œä¸€æ¬¡æ”¹åŠ¨å°±å†æäº¤ä¸€æ¬¡ã€‚ç¡®ä¿ AI ç”Ÿæˆçš„ä»£ç åœ¨å¯æ§èŒƒå›´å†…ï¼Œå‡ºäº†é—®é¢˜å¯ä»¥åŠæ—¶å›æ»šã€‚

ä¸‹é¢æˆ‘ä»¬å°±å…ˆéªŒæ”¶æ ¸å¿ƒæµç¨‹ï¼šç”¨æˆ·è¾“å…¥æâ ç¤ºè¯æ¥åˆ›å»ºåº”ç”¨ => é€šâ è¿‡å’Œ AI å¯¹è¯ç”Ÿæˆç½‘ç«™åº”ç”¨ => ç”ŸæˆæˆåŠŸåæŸ¥çœ‹æ•ˆæœï¼Œå†éªŒæ”¶å…¶ä»–åŠŸèƒ½ã€‚

#### 1ã€ç”¨æˆ·è¾“å…¥æç¤ºè¯æ¥åˆ›å»ºåº”ç”¨

##### å¸¸è§é—®é¢˜ - è·å–åº”ç”¨ä¿¡æ¯å¤±è´¥

é€šè¿‡ F12 ç½‘ç»œæ§åˆ¶å°å‘ç°â æ˜¯å‰ç«¯è¯·æ±‚åº”ç”¨ä¿¡æ¯â æ—¶ï¼Œä¼ é€’çš„ id å‚æ•°ä¸¢å¤±äº†ç²¾åº¦ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/srQmn4RmGb4MHvUs.webp)

è§£å†³ä»»ä½•é—®é¢˜æ—¶ï¼Œä¸€å®šè¦å…ˆæœé›†â ä¿¡æ¯ï¼›æ‡‚å‰ç«¯çš„åŒå­¦â æœ€å¥½è‡ªå·±ä¹Ÿçœ‹ä¸‹ä»£ç ï¼Œå†æŠŠè‡ªå·±çš„æ€è·¯å‘ç»™ AI è§£å†³ã€‚UzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

æ¯”å¦‚æˆ‘æœ¬èƒ½åœ°æƒ³åˆ°ï¼Œè¿™æ˜¯ç”±äºç²¾åº¦ä¸¢å¤±å¯¼è‡´çš„ï¼ŒJavaScâ ript çš„ Number ç±»å‹æ— æ³•â ç²¾ç¡®è¡¨ç¤ºå¤§æ•´æ•°ã€‚æ‰€ä»¥æ‰èƒ½å†™å‡ºä¸‹é¢è¿™ç§æç¤ºè¯ï¼Œç›´æ¥å‘Šè¯‰ AI å¦‚ä½•è§£å†³ï¼Œè€Œä¸æ˜¯ä¾èµ– AI çš„éšæœºæ€§æ¥è§£å†³ã€‚

```markdown
åˆ›å»ºåº”ç”¨æˆåŠŸåï¼Œè·å–åº”ç”¨ä¿¡æ¯å¤±è´¥ï¼Œç”±äº id ä¸¢å¤±äº†ç²¾åº¦ï¼ˆåç«¯è¿”å›çš„æ˜¯ stringï¼‰ã€‚
æ³¨æ„ï¼Œæ— è®ºå¦‚ä½•ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½ä¸åº”è¯¥å°† appId è½¬ä¸º Numberï¼Œè¿™æ ·ä¼šä¸¢å¤±ç²¾åº¦ï¼å¦‚æœæœ‰ ts æŠ¥é”™ï¼Œç”¨å…¶ä»–çš„æ–¹å¼ä¿®å¤
```

æˆ‘çš„è¿™ä¸ªæç¤ºè¯è§¦å‘äº† Cursor çš„è‡ªåŠ¨è®°å¿†åŠŸâ èƒ½ï¼Œå®ƒä¼šè‡ªåŠ¨å°†ä¸€äº›è§„åˆ™ä¿å­˜ä¸‹æ¥ï¼Œâ å»ºè®®è®¾ç½®ä¸‹ï¼Œä¹‹åå¯¹è¯å°±ä¼šä¸€ç›´ç”Ÿæ•ˆï¼Œå¦åˆ™å¯èƒ½ AI ç»å¸¸ä¼šæŠŠ appId å†è½¬ä¸º Numberã€‚qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/pMuM4ov2LWpts9oA.webp)

è¿™ä¸ªé—®é¢˜çš„ä¿®å¤æ–¹æ³•æ˜¯ï¼šå‰ç«¯å§‹â ç»ˆå°† ID ä½œä¸ºå­—â ç¬¦ä¸²å¤„ç†ï¼Œä¸è¦å°†å­—ç¬¦ä¸²è½¬ä¸ºæ•°å­—ã€‚

```javascript
// åŸæœ¬
appId.value = Number(id)
// æ”¹ä¸º
appId.value = id
```

#### 2ã€AI å¯¹è¯ç”Ÿæˆåº”ç”¨ï¼Œå¹¶æŸ¥çœ‹æ•ˆæœ

##### å¸¸è§é—®é¢˜ - SSE æ¥å£è°ƒç”¨é”™è¯¯

è¿›åˆ°å¯¹è¯é¡µé¢ï¼Œé¡µé¢èƒ½æ­£å¸¸æ˜¾ç¤ºâ ï¼Œå¹¶ä¸”é¡µé¢çš„è·¯å¾„æ­£â ç¡®ï¼Œä½†æ˜¯è°ƒç”¨åº”ç”¨ç”Ÿæˆæ¥å£æ—¶æŠ¥é”™äº†ã€‚p+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

æŸ¥çœ‹ F12 ç½‘ç»œæ§åˆ¶å°ï¼Œå‘ç°æ˜¯ 404 é”™è¯¯ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/1ucjNLhbj9nzU8xz.webp)

404 æ˜¯å› ä¸ºæ‰¾ä¸åˆ°æ¥å£ï¼Œæ˜¾ç„¶è°ƒç”¨è·¯å¾„çš„ç«¯å£é”™è¯¯ï¼ˆä¸åº”è¯¥æ˜¯ 5173ï¼‰ã€‚ç†æƒ³æƒ…å†µä¸‹æ˜¯ä» `request.ts` ä¸­é…ç½®çš„ Axios çš„ baseUrl ä¸­è·å–åˆ°è°ƒç”¨åŸŸåï¼Œä¿è¯æ•´ä¸ªé¡¹ç›®ä¸­è¯·æ±‚è·¯å¾„å‰ç¼€ä¸€è‡´ã€‚EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

å°è¯•è®© AI å¸®å¿™è§£å†³ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªå†™æç¤ºè¯çš„å°æŠ€å·§ï¼š

1.  å¤šæä¾›ä¸€äº›æœ‰æ•ˆä¿¡æ¯ï¼Œæ¯”å¦‚åç«¯çš„æ¥å£ä»£ç 
2.  å°½é‡å‡å°‘ä»£ç æ”¹åŠ¨ï¼Œé˜²æ­¢è¯¯ä¿®æ”¹
3.  é¿å…æ”¹åŠ¨åˆ©ç”¨å·¥å…·è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ï¼Œæ¯”å¦‚ api ç›®å½•ï¼Œå¦åˆ™ä¹‹åå†æ¬¡ç”Ÿæˆæ—¶è¿˜ä¼šè¢«è¦†ç›–

æˆ‘å†™çš„æç¤ºè¯å¦‚ä¸‹ï¼šF+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

````markdown
è°ƒç”¨ AI å¯¹è¯æ¥å£æŠ¥é”™ 404ï¼Œhttp://localhost:5173/api/app/chat/gen/code
æˆ‘çœ‹äº†ä»£ç ï¼Œå‘ç° generateCode ä½ æ²¡æœ‰ä½¿ç”¨æˆ‘ç”Ÿæˆçš„æ¥å£ä»£ç è°ƒç”¨ï¼Œè¯·å°†è¿™æ®µé€»è¾‘æ”¹ä¸º SSE æµå¼è¿”å›ï¼Œå¹¶ä¸”åç«¯åœ°å€æ˜¯ http://localhost:8123/apiã€‚

æ³¨æ„ï¼Œç¦æ­¢æ”¹åŠ¨ api ç›®å½•ä¸‹çš„ä»£ç ï¼Œå¹¶ä¸”ä½ å¿…é¡»åªä¸“æ³¨äºå½“å‰é—®é¢˜çš„ä¿®å¤ï¼Œå°½é‡å‡å°‘æ”¹åŠ¨èŒƒå›´ï¼

åç«¯æ¥å£ä»£ç å¦‚ä¸‹ï¼š
```java
@GetMapping(value = "/chat/gen/code", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
public Flux<ServerSentEvent<String>> chatToGenCode(@RequestParam Long appId,
                                                   @RequestParam String message,
                                                   HttpServletRequest request) {
    // å‚æ•°æ ¡éªŒ
    ThrowUtils.throwIf(appId == null || appId <= 0, ErrorCode.PARAMS_ERROR, "åº”ç”¨IDæ— æ•ˆ");
    ThrowUtils.throwIf(StrUtil.isBlank(message), ErrorCode.PARAMS_ERROR, "ç”¨æˆ·æ¶ˆæ¯ä¸èƒ½ä¸ºç©º");
    // è·å–å½“å‰ç™»å½•ç”¨æˆ·
    User loginUser = userService.getLoginUser(request);
    // è°ƒç”¨æœåŠ¡ç”Ÿæˆä»£ç ï¼ˆæµå¼ï¼‰
    Flux<String> contentFlux = appService.chatToGenCode(appId, message, loginUser);
    // è½¬æ¢ä¸º ServerSentEvent æ ¼å¼
    return contentFlux
            .map(chunk -> {
                // å°†å†…å®¹åŒ…è£…æˆJSONå¯¹è±¡
                Map<String, String> wrapper = Map.of("d", chunk);
                String jsonData = JSONUtil.toJsonStr(wrapper);
                return ServerSentEvent.<String>builder()
                        .data(jsonData)
                        .build();
            })
            .concatWith(Mono.just(
                    // å‘é€ç»“æŸäº‹ä»¶
                    ServerSentEvent.<String>builder()
                            .event("done")
                            .data("")
                            .build()
            ));
}
````

ä¿®å¤ä¹‹åï¼Œé¡µé¢æˆåŠŸæµå¼è¾“å‡ºäº† AI çš„å›å¤å†…å®¹ï¼Œè¿è¡Œæ•ˆæœå¦‚å›¾ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/SDIYBjUHYVWT6MXm.webp)1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

ğŸ’¡ æµ‹è¯•æ—¶æœ€å¥½åœ¨æç¤ºè¯ä¸­æŒ‡å®š â€œç”Ÿæˆçš„ç½‘ç«™ä»£ç é‡ < 50 è¡Œâ€ï¼Œæå‡æ•ˆç‡ã€‚

##### å¸¸è§é—®é¢˜ - ä»£ç ç”Ÿæˆå®Œæˆåæ²¡æœ‰å±•ç¤º

AI å›å¤ç»“æŸä¹‹åï¼Œå³ä¾§å¹¶æ²¡æœ‰å±•ç¤ºç”Ÿæˆçš„ç½‘ç«™ï¼šp+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/vNhkmHMZ9szLKnqo.webp)

é¦–å…ˆæˆ‘ä»¬è¦å®šä½é—®é¢˜çš„èŒƒå›´ï¼šæ˜¯åç«¯æ²¡ç”Ÿæˆç½‘ç«™æ–‡ä»¶ï¼Ÿè¿˜æ˜¯å‰ç«¯æ²¡æœ‰å±•ç¤ºç½‘ç«™ï¼Ÿ

å¯ä»¥å…ˆè‡ªä¸»æŸ¥çœ‹åç«¯æœ‰æ²¡æœ‰å¯¹åº”ç”Ÿæˆçš„å®Œæ•´ç½‘ç«™ç›®å½•ã€‚æˆ‘è¿™é‡Œçœ‹åˆ°æ˜¯æœ‰çš„ï¼Œæ‰€ä»¥å‘ AI æé—®æ—¶åˆå¯ä»¥æä¾›ä¸€ä¸ªæœ‰æ•ˆä¿¡æ¯ï¼šEVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

```markdown
ä»£ç ç”Ÿæˆå®Œæˆåæ²¡æœ‰è§¦å‘å±•ç¤ºï¼Œä½†æ˜¯åç«¯â æœ‰å¯¹åº”ç”Ÿæˆçš„å®Œæ•´ç½‘ç«™â ç›®å½•ã€‚
è¯·ä»”ç»†æ£€æŸ¥åœ¨ SSE æµå¼è°ƒç”¨ç»“æœå…¨éƒ¨è·å–åï¼Œæ˜¯å¦è§¦å‘äº†ç½‘ç«™å±•ç¤ºã€‚
```

AI é¡ºåˆ©ä¿®å¤å®Œæˆï¼Œå¯ä»¥æ­£å¸¸åŠ è½½ç½‘ç«™ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/h5ccxyGWvZdqfk0F.webp)UzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

ç›®å‰å·²ç»æ”¯æŒäº†å¤šæ¬¡å¯¹è¯ï¼Œä¸è¿‡è¿˜æ²¡æœ‰å¯¹è¯è®°å¿†ï¼Œç›¸å½“äºæ¯æ¬¡éƒ½æ˜¯æ–°ç”Ÿæˆäº†ä¸€ä¸ªç½‘ç«™ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/Ntvf2Rft5LsLcbcC.webp)

##### å€¼å¾—å­¦ä¹ çš„ä»£ç  - SSE è°ƒç”¨

æˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹å‰ç«¯æ˜¯å¦‚ä½•è°ƒç”¨åç«¯ SSE æ¥å£å¹¶æµå¼è¾“å‡ºçš„ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ EventSourceã€‚

é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å»ºç«‹ SSE è¿æ¥ã€‚åœ¨ç”Ÿæˆä»£ç çš„å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºæ­£ç¡®çš„è¯·æ±‚ URL å¹¶åˆ›å»º EventSource å®ä¾‹ï¼š

```javascript
// ç”Ÿæˆä»£ç  - ä½¿ç”¨ EventSource å¤„ç†æµå¼å“åº”
const generateCode = async (userMessage: string, aiMessageIndex: number) => {
  let eventSource: EventSource | null = null
  let streamCompleted = false

  try {
    // è·å– axios é…ç½®çš„ baseURL
    const baseURL = request.defaults.baseURL || API_BASE_URL

    // æ„å»ºURLå‚æ•°
    const params = new URLSearchParams({
      appId: appId.value || '',
      message: userMessage,
    })

    const url = `${baseURL}/app/chat/gen/code?${params}`

    // åˆ›å»º EventSource è¿æ¥
    eventSource = new EventSource(url, {
      withCredentials: true,
    })
```

è¿™é‡Œçš„å…³é”®æ˜¯è¦æ­£ç¡®æ„å»º URL å‚æ•°ï¼Œå¹¶ä¸”è®¾ç½® `withCredentials: true` æ¥ç¡®ä¿è®¤è¯ä¿¡æ¯èƒ½å¤Ÿæ­£ç¡®ä¼ é€’ã€‚`streamCompleted` æ ‡å¿—ç”¨äºé˜²æ­¢é‡å¤å¤„ç†äº‹ä»¶ï¼Œåº”å¯¹ç½‘ç»œå¼‚å¸¸ã€‚

æ¥ä¸‹æ¥æ˜¯å¤„ç†æœåŠ¡å™¨å‘é€çš„æ¶ˆæ¯æ•°æ®ã€‚æ¯å½“æœåŠ¡å™¨å‘é€æ–°çš„æ•°æ®å—æ—¶ï¼Œ`onmessage` äº‹ä»¶å°±ä¼šè¢«è§¦å‘ï¼š

```javascript
let fullContent = ''

// å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯
eventSource.onmessage = function (event) {
  if (streamCompleted) return

  try {
    // è§£æJSONåŒ…è£…çš„æ•°æ®
    const parsed = JSON.parse(event.data)
    const content = parsed.d

    // æ‹¼æ¥å†…å®¹
    if (content !== undefined && content !== null) {
      fullContentâ  += contentâ â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‰â€‰â€‰â€‰â€‰â€‚â€‰â€‰â€‰â€‰â€‚â€‚â€‚â€‰â€‚â€‚
      messages.value[aiMessageIndex].content = fullContent
      messages.value[aiMessageIndex].loading = false
      scrollToBottom()
    }
  } catch (error) {
    console.error('è§£ææ¶ˆæ¯å¤±è´¥:', error)
    handleError(error, aiMessageIndex)
  }
}
```

è¿™æ®µä»£ç çš„æ ¸å¿ƒæ€è·¯æ˜¯ **é€æ­¥æ‹¼æ¥æ”¶åˆ°çš„å†…å®¹**ã€‚æ¯æ¬¡æ”¶åˆ°æ–°çš„æ•°æ®å—åï¼Œéƒ½ä¼šå°†å…¶è¿½åŠ åˆ° `fullContent` ä¸­ï¼Œç„¶åæ›´æ–°ç•Œé¢ä¸Šå¯¹åº”æ¶ˆæ¯çš„å†…å®¹ã€‚åŒæ—¶è°ƒç”¨ `scrollToBottom()` ç¡®ä¿ç”¨æˆ·èƒ½çœ‹åˆ°æœ€æ–°çš„å†…å®¹ï¼Œè¿™æ ·å°±å®ç°äº†æ‰“å­—æœºæ•ˆæœã€‚

å½“ AI å®Œæˆä»£ç ç”Ÿæˆåï¼ŒæœåŠ¡å™¨ä¼šå‘é€ä¸€ä¸ªç‰¹æ®Šçš„ `done` äº‹ä»¶æ¥é€šçŸ¥å‰ç«¯ï¼š

```javascript
// å¤„ç†doneäº‹ä»¶
eventSource.addEventListener('done', function () {
  if (streamCompleted) return

  streamCompleted = true
  isGenerating.value = false
  eventSource?.close()

  // å»¶è¿Ÿæ›´æ–°é¢„è§ˆï¼Œç¡®ä¿åç«¯å·²å®Œæˆå¤„ç†
  setTimeout(async () => {
    await fetchAppInfo()
    updatePreview()
  }, 1000)
})
```

æ”¶åˆ° `done` äº‹ä»¶åï¼Œæˆ‘ä»¬éœ€è¦åšå‡ ä»¶äº‹ï¼šé¦–å…ˆæ ‡è®°æµå¼ä¼ è¾“å·²å®Œæˆï¼Œç„¶åå…³é—­ EventSource è¿æ¥é‡Šæ”¾èµ„æºã€‚è¿™é‡Œä½¿ç”¨äº† 1 ç§’çš„å»¶è¿Ÿæ¥ç¡®ä¿åç«¯å·²ç»å®Œå…¨å¤„ç†å®Œæ¯•ï¼Œç„¶åå†è·å–æœ€æ–°çš„åº”ç”¨ä¿¡æ¯å¹¶æ›´æ–°é¢„è§ˆã€‚

é”™è¯¯å¤„ç†ä¹Ÿæ˜¯ SSE è¿æ¥ä¸­çš„é‡è¦ç¯èŠ‚ï¼š

```javascript
// å¤„ç†é”™è¯¯
eventSource.onerror = function () {
  if (streamCompleted || !isGenerating.value) return
  // æ£€æŸ¥æ˜¯å¦æ˜¯æ­£å¸¸çš„è¿æ¥å…³é—­
  if (eventSource?.readyState === EventSource.CONNECTING) {
    streamCompleted = true
    isGenerating.value = false
    eventSource?.close()

    setTimeout(async () => {
      await fetchAppInfo()
      updatePreview()
    }, 1000)
  } else {
    handleError(new Error('SSEè¿æ¥é”™è¯¯'), aiMessageIndex)
  }
}
```

è¿™é‡Œéœ€è¦åŒºåˆ†æ­£å¸¸çš„è¿æ¥å…³é—­å’ŒçœŸæ­£çš„é”™è¯¯ã€‚å½“ EventSource çš„çŠ¶æ€æ˜¯ `CONNECTING` æ—¶ï¼Œé€šå¸¸è¡¨ç¤ºè¿æ¥æ­£å¸¸å…³é—­ï¼Œæˆ‘ä»¬æŒ‰ç…§æ­£å¸¸æµç¨‹å¤„ç†å³å¯ã€‚å…¶ä»–æƒ…å†µåˆ™è®¤ä¸ºæ˜¯çœŸæ­£çš„é”™è¯¯ï¼Œéœ€è¦è°ƒç”¨é”™è¯¯å¤„ç†å‡½æ•°ã€‚

æœ€åæ˜¯ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å‡½æ•°ï¼š

```javascript
// é”™è¯¯å¤„ç†å‡½æ•°
const handleError = (error: unknown, aiMessageIndex: number) => {
  console.error('ç”Ÿæˆä»£ç å¤±è´¥ï¼š', error)
  messages.value[aiMessageIndex].content = 'æŠ±æ­‰ï¼Œç”Ÿæˆè¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚'
  messages.value[aiMessageIndex].loading = false
  message.error('ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•')
  isGenerating.value = false
}
```

é”™è¯¯å¤„ç†å‡½æ•°è´Ÿè´£æ¸…ç†çŠ¶æ€ã€æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯ä¿¡æ¯ç»™ç”¨æˆ·ï¼Œå¹¶é‡ç½®ç”ŸæˆçŠ¶æ€ã€‚è¿™æ ·å³ä½¿å‡ºç°å¼‚å¸¸ï¼Œç”¨æˆ·ç•Œé¢ä¹Ÿèƒ½ä¿æŒä¸€è‡´çš„çŠ¶æ€ã€‚

ä»å»ºç«‹è¿æ¥ã€å¤„ç†æ•°æ®ã€åˆ°é”™è¯¯å¤„ç†å’Œèµ„æºæ¸…ç†ï¼Œæ¯ä¸ªç¯èŠ‚ AI éƒ½è€ƒè™‘å¾—æ¯”è¾ƒå‘¨å…¨ï¼Œä¸æ„§æ˜¯ AI ç”Ÿæˆçš„ä»£ç ï¼Œè¿˜æ˜¯å¾ˆä¸¥è°¨çš„ã€‚

#### 3ã€ç”¨æˆ·åˆ†é¡µæŸ¥è¯¢è‡ªå·±çš„åº”ç”¨åˆ—è¡¨

ä¸‹é¢éªŒæ”¶ä¸»é¡µï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹æ•°æ®åº“ï¼Œç»™è‡ªå·±åˆ›å»ºçš„åº”ç”¨ç»Ÿä¸€è®¾ç½®å°é¢ï¼Œæ¯”å¦‚éšæœºå ä½å›¾ [https://picsum.photos/320/180](https://picsum.photos/320/180)ã€‚

æ•ˆæœå¦‚å›¾ï¼ŒAI ç›´æ¥å®Œç¾ç”Ÿæˆäº†ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/0AwjvNw1aAzQAOvj.webp)qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

#### 4ã€åˆ†é¡µæŸ¥è¯¢ç²¾é€‰çš„åº”ç”¨åˆ—è¡¨

å¯ä»¥é€šè¿‡ä¿®æ”¹æ•°æ®åº“ï¼Œå°†ä¸€äº›åº”ç”¨çš„ä¼˜å…ˆçº§ä¿®æ”¹ä¸º 99ï¼ˆè¡¨ç¤ºç²¾é€‰ï¼‰ã€‚

##### å¸¸è§é—®é¢˜ - æ’åºé”™è¯¯

ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è¦æŒ‰ç…§æ—¶é—´é™åºå¯¹ç²¾é€‰åº”ç”¨è¿›è¡Œæ’åºã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥ç›´æ¥è‡ªå·±ä¿®å¤ï¼Œæ‰¾åˆ°è°ƒç”¨è·å–ç²¾é€‰åº”ç”¨æ¥å£çš„ä½ç½®ï¼Œè®¾ç½®æ’åºå‚æ•°å³å¯ï¼š

```javascript
// åŠ è½½ç²¾é€‰åº”ç”¨
const loadFeaturedApps = async () => {
  try {
    const res = await listGoodAppVoByPage({
      pageNum: featuredAppsPage.current,
      pageSize: featuredAppsPage.pageSize,
      sortField: 'createTime',
      sortOrder: 'desc',
    })

    if (res.data.code === 0 && res.data.data) {
      featuredApps.value = res.data.data.records || []
      featuredAppsPage.total = res.data.data.totalRow || 0
    }
  } catch (error) {
    console.error('åŠ è½½ç²¾é€‰åº”ç”¨å¤±è´¥ï¼š', error)
  }
}
```

æ•ˆæœå¦‚å›¾ï¼šdWCTYpHEFA/xV8BrvOpKRqkO1d88b9Ip8VkvBeLuZho=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/bX9QJ7QwArICX3IY.webp)

#### 5ã€æŸ¥çœ‹åº”ç”¨è¯¦æƒ…

ç‚¹å‡»åº”ç”¨å¡ç‰‡åï¼Œå¯ä»¥æŸ¥çœ‹åº”ç”¨è¯¦æƒ…ã€‚å‚è€ƒå¤§å‚å¹³å°ã€åŒæ ·ä¹Ÿæ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œåº”ç”¨è¯¦æƒ…é¡µé¢å¯ä»¥å¤ç”¨åº”ç”¨å¯¹è¯é¡µé¢ã€‚nShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

##### å¸¸è§é—®é¢˜ - åº”ç”¨å¡ç‰‡è¡¥å……æŸ¥çœ‹ä½œå“æŒ‰é’®

ç”±äºä¹‹å‰ç”Ÿæˆæ—¶æ²¡æœ‰æä¾›è¶³å¤Ÿçš„åŸå‹å›¾ï¼ŒAI åº”è¯¥ä¸ä¼šç”Ÿæˆ â€œæŸ¥çœ‹ä½œå“â€ æŒ‰é’®ã€‚

![](https://pic.code-nav.cn/course_picture/1608440217629360130/U3nqF4D030iZbeLO.webp)UzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

æ— è®ºæ˜¯æˆ‘çš„ä½œå“è¿˜æ˜¯ç²¾é€‰é¡µé¢ï¼Œæ‰€æœ‰åº”ç”¨å¡ç‰‡å±•ç¤ºæŒ‰é’®çš„é€»è¾‘ä¸€è‡´ã€‚é¼ æ ‡æ‚¬æµ®æ—¶ï¼Œå±•ç¤º 2 ä¸ªæŒ‰é’®ï¼š

-   æŸ¥çœ‹å¯¹è¯ï¼šå§‹ç»ˆæ˜¾ç¤ºï¼Œç‚¹å‡»åè·³è½¬åˆ°åº”ç”¨å¯¹è¯é¡µé¢
-   æŸ¥çœ‹ä½œå“ï¼šå¦‚æœæŸ¥çœ‹çš„åº”ç”¨æœ‰ deployKeyï¼Œä¼šå±•ç¤ºæŸ¥çœ‹ä½œå“æŒ‰é’®ï¼Œç‚¹å‡»åæ–°é¡µé¢æ‰“å¼€éƒ¨ç½²åœ°å€ã€‚éƒ¨ç½²åœ°å€ç›®å‰ä¸º localhost/{deployKey}ã€‚æ³¨æ„ï¼Œéƒ¨ç½²åœ°å€å’Œç”Ÿæˆç½‘ç«™çš„æµè§ˆåœ°å€ä¸åŒï¼Œä¸è¦ä¿®æ”¹é”™äº†ï¼

##### å¸¸è§é—®é¢˜ - æŸ¥çœ‹è¯¦æƒ…æ—¶è‡ªåŠ¨å‘é€äº†æ¶ˆæ¯

ç”±äºç°åœ¨å¹¶æ²¡æœ‰è®°å½•åº”ç”¨çš„ç”ŸæˆçŠ¶æ€ï¼Œæ— æ³•åœ¨å¯¹è¯è¯¦æƒ…é¡µåˆ¤æ–­åº”ç”¨æ˜¯å¦ç”Ÿæˆè¿‡ï¼Œæ‰€ä»¥æ¯æ¬¡è¿›å…¥å¯¹è¯è¯¦æƒ…é¡µæ—¶éƒ½ä¼šè‡ªåŠ¨å‘é€åˆå§‹æç¤ºè¯ã€‚

è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å¾ˆç®€å•ï¼ŒåŒºåˆ†æµè§ˆå’Œç”Ÿæˆå³å¯ã€‚å¯ä»¥åœ¨è·³è½¬æ—¶å¢åŠ ä¸€ä¸ª url æŸ¥è¯¢å‚æ•°ï¼ˆæ¯”å¦‚ `?view=1`ï¼‰ï¼Œå¦‚æœæœ‰è¿™ä¸ªå‚æ•°ï¼Œåˆ™ä¸ä¼šé»˜è®¤å‘é€ä¸€æ¡æ¶ˆæ¯ã€‚

ä¸è¿‡è¿™ä¸ªé€»è¾‘ç°åœ¨åšäº†ä¹Ÿæ²¡ä»€ä¹ˆç”¨ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰ä¿å­˜å¯¹è¯ï¼Œåç»­ç« èŠ‚ä¼šå®ç°ã€‚EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

æ­¤å¤–ï¼Œè¿˜è¦è¡¥å……æƒé™æ ¡éªŒã€‚å¦‚æœæŸ¥çœ‹çš„ä¸æ˜¯è‡ªå·±çš„ä½œå“ï¼Œåº”ç”¨ç¦ç”¨ç¼–è¾‘æ¡†ï¼›å¹¶ä¸”é¼ æ ‡æ”¾åˆ°ç¼–è¾‘æ¡†ä¸Šæ—¶ï¼Œç»™å‡ºæç¤º â€œæ— æ³•åœ¨åˆ«äººçš„ä½œå“ä¸‹å¯¹è¯å“¦~â€

æŠŠæˆ‘ä»¬çš„æ€è€ƒä½œä¸ºæç¤ºè¯å‘é€ç»™ AIï¼š

```markdown
å¤„ç†ä»¥ä¸‹é€»è¾‘ï¼š

1ï¼‰é’ˆå¯¹åº”ç”¨å¡ç‰‡è¡¥å……æŸ¥çœ‹ä½œå“â æŒ‰é’®ï¼Œæˆ‘çš„ä½œå“å’Œç²¾â é€‰é¡µé¢é‡Œå±•ç¤ºçš„åº”ç”¨é€»è¾‘ä¸€è‡´ï¼š
- æŸ¥çœ‹å¯¹è¯ï¼šå§‹ç»ˆæ˜¾ç¤ºï¼Œç‚¹å‡»åè·³è½¬åˆ°åº”ç”¨å¯¹è¯é¡µé¢
- æŸ¥çœ‹ä½œå“ï¼šå¦‚æœæŸ¥çœ‹çš„åº”ç”¨æœ‰ deployKeyï¼Œä¼šå±•ç¤ºæŸ¥çœ‹ä½œå“æŒ‰é’®ï¼Œç‚¹å‡»åæ–°é¡µé¢æ‰“å¼€éƒ¨ç½²åœ°å€ã€‚éƒ¨ç½²åœ°å€ç›®å‰ä¸º localhost/{deployKey}ï¼ˆæ³¨æ„ï¼Œéƒ¨ç½²åœ°å€å’Œç”Ÿæˆç½‘ç«™çš„æµè§ˆåœ°å€ä¸åŒï¼Œä¸è¦ä¿®æ”¹é”™äº†ï¼‰

2ï¼‰ç‚¹è¿›æŸ¥çœ‹è¯¦æƒ…è¿›å…¥åº”ç”¨å¯¹è¯é¡µé¢æ—¶ï¼Œç›´æ¥å°±è‡ªåŠ¨å‘é€æ¶ˆæ¯äº†
ç”±äºç°åœ¨å¹¶æ²¡æœ‰è®°å½•åº”ç”¨çš„ç”ŸæˆçŠ¶æ€ï¼Œæ— æ³•åœ¨å¯¹â è¯è¯¦æƒ…é¡µåˆ¤æ–­åº”ç”¨æ˜¯å¦ç”Ÿæˆè¿‡ï¼Œå¯ä»¥åœ¨è·³è½¬æ—¶å¢åŠ ä¸€ä¸ª url æŸ¥è¯¢å‚æ•°â ï¼ˆæ¯”å¦‚ ?view=1ï¼‰ï¼Œå¦‚æœæœ‰è¿™ä¸ªå‚æ•°ï¼Œåˆ™ä¸ä¼šé»˜è®¤å‘é€ä¸€æ¡æ¶ˆæ¯ã€‚
å¹¶ä¸”è¿˜è¦è¡¥å……æƒé™æ ¡éªŒï¼Œå¦‚æœä¸æ˜¯è‡ªå·±çš„ä½œå“ï¼Œç¦ç”¨ç¼–è¾‘æ¡†ï¼Œå¹¶ä¸”é¼ æ ‡æ”¾åˆ°ç¼–è¾‘æ¡†ä¸Šæ—¶ï¼Œç»™å‡ºæç¤ºï¼šæ— æ³•åœ¨åˆ«äººçš„ä½œå“ä¸‹å¯¹è¯å“¦~
```

AI ç”Ÿæˆçš„æ•ˆæœå¦‚å›¾ï¼Œç¬¦åˆéœ€æ±‚ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/qU3JAXsVmF3KCMwK.webp)

##### æŸ¥çœ‹åº”ç”¨è¯¦æƒ…é¢æ¿

å…¶ä»–å¤§å‚å¹³å°åœ¨å¯¹è¯é¡µé¢çš„å·¦ä¸Šè§’æœ‰ä¸ªåº”ç”¨ä¿¡æ¯çš„æŸ¥çœ‹å…¥å£ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/Bazm9X0PocwUe4fP.webp)

æˆ‘ä»¬å¯ä»¥å‚è€ƒè¿™ç§å½¢å¼ï¼Œåœ¨éƒ¨ç½²æŒ‰é’®å·¦ä¾§å¢åŠ  `åº”ç”¨è¯¦æƒ…` æŒ‰é’®ï¼Œç‚¹å‡»åå±•ç¤ºæ‚¬æµ®çª—ï¼Œçª—å£å†…ä»ä¸Šåˆ°ä¸‹å±•ç¤ºï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

-   åº”ç”¨åŸºç¡€ä¿¡æ¯ï¼š
    
-   åˆ›å»ºè€…ï¼šå±•ç¤ºå¤´åƒå’Œæ˜µç§°
    
-   åˆ›å»ºæ—¶é—´
    
-   æ“ä½œæ ï¼ˆä»…æœ¬äººæˆ–ç®¡ç†å‘˜å¯è§ï¼‰ï¼š
    
-   ä¿®æ”¹æŒ‰é’®
    
-   åˆ é™¤æŒ‰é’®
    

ç»™ AI å‘é€æç¤ºè¯ï¼š

```markdown
åœ¨å¯¹è¯è¯¦æƒ…é¡µçš„éƒ¨ç½²æŒ‰é’®å·¦ä¾§å¢â åŠ ã€åº”ç”¨è¯¦æƒ…ã€‘æŒ‰é’®â ï¼Œç‚¹å‡»åå±•ç¤ºæ‚¬æµ®çª—ï¼Œçª—å£å†…ä»ä¸Šåˆ°ä¸‹å±•ç¤ºï¼š
- åº”ç”¨åŸºç¡€ä¿¡æ¯ï¼š
  - åˆ›å»ºè€…ï¼šå±•ç¤ºå¤´åƒå’Œæ˜µç§°
  - åˆ›å»ºæ—¶é—´
- æ“ä½œæ ï¼ˆä»…æœ¬äººæˆ–ç®¡ç†å‘˜å¯è§ï¼‰ï¼š
  - ä¿®æ”¹æŒ‰é’®
  - åˆ é™¤æŒ‰é’®
```

ç”Ÿæˆæ•ˆæœå¦‚å›¾ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/mWDcjH6MmsZIoVc6.webp)

#### 6ã€ç”¨æˆ·ä¿®æ”¹è‡ªå·±çš„åº”ç”¨ä¿¡æ¯

AI å·²ç»é¡ºåˆ©ç”Ÿæˆäº†å•ç‹¬çš„ä¿®æ”¹é¡µé¢ï¼Œå¦‚å›¾ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/hxyNf2GKCE721zQ2.webp)

![](https://pic.code-nav.cn/course_picture/1608440217629360130/dbyDxSy30nLm5Gi3.webp)qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ï¼Œä½†æ˜¯è¦æ³¨æ„æ ¡éªŒæƒé™ï¼Œåªæœ‰ç®¡ç†å‘˜èƒ½ä¿®æ”¹ä¼˜å…ˆçº§ã€‚

#### 7ã€ç”¨æˆ·åˆ é™¤è‡ªå·±çš„åº”ç”¨

AI å·²ç»é¡ºåˆ©ç”Ÿæˆï¼Œå¯ä»¥æˆåŠŸåˆ é™¤WBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/h7U6ZfJQmc0Ysg8c.webp)

#### 8ã€éƒ¨ç½²åº”ç”¨

ç‚¹å‡»éƒ¨ç½²æŒ‰é’®ï¼Œå¯ä»¥æˆåŠŸéƒ¨ç½²å¹¶è®¿é—®ï¼šcZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/LfTFoKf32Nv0yf5j.webp)

è€Œä¸”éƒ¨ç½²åº”ç”¨åï¼Œåœ¨åº”ç”¨å¡ç‰‡ä¸Šé¼ æ ‡æ‚¬æµ®ï¼Œå°±èƒ½çœ‹åˆ° `æŸ¥çœ‹ä½œå“` æŒ‰é’®äº†ã€‚

åç«¯æ”¯æŒå¤šæ¬¡éƒ¨ç½²ï¼Œæ–°çš„æ–‡ä»¶ä¼šè¦†ç›–æ—§çš„ã€‚1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

#### 9ã€ç®¡ç†å‘˜ç›¸å…³åŠŸèƒ½

æœ€åå†éªŒæ”¶ç®¡ç†å‘˜ç›¸å…³åŠŸèƒ½ï¼Œé‚£å°±æ˜¯æ´’æ´’æ°´äº†~

1ï¼‰ç®¡ç†å‘˜åˆ é™¤ä»»æ„åº”ç”¨cZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

æµ‹è¯•æ—¶å¯ä»¥è®©å…¶ä»–ç”¨æˆ·åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼ˆæ”¹åº“ï¼‰ï¼Œç„¶åéªŒè¯èƒ½å¦åˆ é™¤ã€‚

2ï¼‰ç®¡ç†å‘˜æ›´æ–°ä»»æ„åº”ç”¨ä¿¡æ¯ï¼Œæ”¯æŒæ›´æ–°åº”ç”¨åç§°ã€åº”ç”¨å°é¢ã€ä¼˜å…ˆçº§ã€‚

3ï¼‰ç®¡ç†å‘˜æŸ¥çœ‹ä»»æ„åº”ç”¨è¯¦æƒ…p+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

å› ä¸ºç›®å‰æ²¡æœ‰é™åˆ¶åªèƒ½æŸ¥çœ‹è‡ªå·±çš„åº”ç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªåŠŸèƒ½å’Œæ™®é€šç”¨æˆ·æŸ¥çœ‹åº”ç”¨è¯¦æƒ…æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡æ™®é€šç”¨æˆ·çœ‹ä¸åˆ°éç²¾é€‰çš„åº”ç”¨åˆ—è¡¨ã€‚

4ï¼‰ç®¡ç†å‘˜åˆ†é¡µæŸ¥è¯¢åº”ç”¨åˆ—è¡¨ï¼Œæ”¯æŒæ ¹æ®é™¤æ—¶é—´å¤–çš„ä»»ä½•å­—æ®µæŸ¥è¯¢ã€ä¸”æ¯é¡µæ•°é‡ä¸é™ã€‚

ä¸Šè¿°åŠŸèƒ½éªŒè¯æ—¶åŸºæœ¬æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œé™¤äº†ä¸€ä¸ªå°é—®é¢˜ï¼šF+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

##### å¸¸è§é—®é¢˜ - ç”Ÿæˆç±»å‹é”™è¯¯

AI è¿‡äºè‡ªç”±å‘æŒ¥äº†ï¼Œä¸‹æ‹‰é€‰æ‹©æ¡†å†…å¤šäº†å‡ ä¸ªæˆ‘ä»¬ä¸æ”¯æŒçš„ç”Ÿæˆç±»å‹ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/t0WzJa471WGikjEO.webp)UzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

è®© AI é€šè¿‡åˆ›å»ºå¸¸é‡æ–‡ä»¶æ¥ç®¡ç†ç”Ÿæˆç±»å‹ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š

```markdown
åº”ç”¨ç®¡ç†é¡µé¢çš„ç”Ÿæˆç±»å‹é”™è¯¯ï¼Œâ éœ€è¦å•ç‹¬åˆ›å»ºå¸¸é‡æ–‡â ä»¶æ¥ç®¡ç†ç”Ÿæˆç±»å‹ï¼Œç±»å‹å‚è€ƒåç«¯æšä¸¾ç±»ï¼š

public enum CodeGenTypeEnum {

    HTML("åŸç”Ÿ HTML æ¨¡å¼", "html"),
    MULTI_FILE("åŸç”Ÿå¤šæ–‡ä»¶æ¨¡å¼", "multi_file");
```

AI åˆ›å»ºçš„å¸¸é‡æ–‡ä»¶å¦‚ä¸‹ï¼Œè¿™æ®µä»£ç ä¹Ÿå€¼å¾—æˆ‘ä»¬å­¦ä¹ ï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

```typescript
/**
 * ä»£ç ç”Ÿæˆç±»å‹æšä¸¾
 */
export enum CodeGenTypeEnum {
  HTML = 'html',
  MULTI_FILE = 'multi_file',
}

/**
 * ä»£ç ç”Ÿæˆç±»å‹é…ç½®
 */
export const CODE_GEN_TYPE_CONFIG = {
  [CodeGenTypeEnum.HTML]: {
    label: 'åŸç”Ÿ HTML æ¨¡å¼',
    value: CodeGenTypeEnum.HTML,
  },
  [CodeGenTypeEnum.MULTI_FILE]: {
    label: 'åŸç”Ÿå¤šæ–‡ä»¶æ¨¡å¼',
    value: CodeGenTypeEnum.MULTI_FILE,
  },
} as const

/**
 * ä»£ç ç”Ÿæˆç±»å‹é€‰é¡¹ï¼ˆç”¨äºä¸‹æ‹‰é€‰æ‹©ï¼‰
 */
export const CODE_GEN_TYPE_OPTIONS = Object.values(CODE_GEN_TYPE_CONFIG).map((config) => ({
  label: config.label,
  value: config.value,
}))
```

ä¿®å¤å®Œæˆï¼Œæœ€ç»ˆæ•ˆæœå¦‚å›¾ï¼ŒæˆåŠŸæ”¯æŒåº”ç”¨ç­›é€‰å’Œåˆ—è¡¨å±•ç¤ºï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/ZSKHj9YCjnHlq1DT.webp)qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

### å‰ç«¯ä¼˜åŒ–

åŠŸèƒ½éªŒæ”¶å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ³æ³•ï¼Œå¯¹é¡µé¢è¿›è¡Œä¼˜åŒ–äº†ã€‚æˆ‘è¿™é‡Œä»åŠŸèƒ½ã€æ ·å¼ã€ä»£ç å±‚é¢éƒ½è¿›è¡Œäº†ä¼˜åŒ–ã€‚

#### 1ã€ä¼˜åŒ– AI è¾“å‡ºæ•ˆæœ

ç”±äº AI è¾“å‡ºåŒ…å«ä»£ç ï¼Œå¯ä»¥é‡‡ç”¨ Markdown æ ¼å¼å±•ç¤º + ä»£ç é«˜äº®ã€‚

ç»™ AI çš„æç¤ºè¯ï¼š

```markdown
ä¼˜åŒ–åº”ç”¨å¯¹è¯è¯¦æƒ…é¡µå®æ—¶å±•ç¤ºçš„ AI å›å¤çš„ Maâ rkdown å†…å®¹æ ·å¼ï¼Œé‡‡ç”¨ä¸»æµâ çš„ Markdown è§£æåº“æ¥æ¸²æŸ“ï¼Œæ”¯æŒ HTMLã€CSSã€JavaScript çš„ä»£ç é«˜äº®
```

AI ä½¿ç”¨äº† `markdown-it` ç»„ä»¶ + `Highlight.js` å®ç°ä»£ç é«˜äº®ï¼Œæ•ˆæœå¾ˆä¸é”™ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/7D7TwOVZItY7pGFb.webp)

#### 2ã€ä¼˜åŒ– AI å¤´åƒå±•ç¤º

åœ¨ `assets` ç›®å½•ä¸‹æ”¾ä¸€ä¸ªå¤´åƒæ–‡ä»¶ `aiAvatar.png`ï¼Œä½“ç§¯å°ä¸€ç‚¹ã€‚

![](https://pic.code-nav.cn/course_picture/1608440217629360130/vfYCZLQBNJnTIJ6w.webp)

è®© AI å¸®å¿™ä¿®æ”¹ï¼šUzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

```markdown
è¯·å°†åº”ç”¨å¯¹è¯é¡µä¸­ AI çš„å¤´åƒæ”¹ä¸º assets/aiAvatar.png
```

æ•ˆæœå¦‚å›¾ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/Jq0pXQoLv7gYGgYA.webp)cZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

#### 3ã€ä¼˜åŒ–åº”ç”¨å¡ç‰‡çš„å±•ç¤º

å‚è€ƒå¤§å‚å¹³å°ï¼Œå¯ä»¥ç»™åº”ç”¨å¡ç‰‡è¡¥å……ç”¨æˆ·å¤´åƒï¼Œè®©é¡µé¢å†…å®¹æ›´ä¸°å¯Œï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/giCxJDPAapalu6Ro.webp)WBpr9WI72APgOj+DCCZKObs+ofP0VhBHSvqSELGriv0=

è®© AI ç”Ÿæˆï¼š

```markdown
ä¼˜åŒ–åº”ç”¨å¡ç‰‡ä¸­ä¿¡æ¯çš„å±•ç¤ºï¼Œå·¦å³ç»“æ„ï¼š
- å·¦ä¾§ï¼šåˆ›å»ºåº”ç”¨çš„ç”¨æˆ·å¤´åƒ
- å³ä¾§ï¼šä¸Šä¸‹ç»“æ„
  - ä¸Šæ–¹ï¼šåº”ç”¨æ ‡é¢˜
  - ä¸‹æ–¹ï¼šåˆ›å»ºåº”ç”¨çš„ç”¨æˆ·æ˜µç§°
```

æ•ˆæœå¦‚å›¾ï¼šqo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/rcu5dEj37WSuOZIy.webp)

#### 4ã€ä¼˜åŒ–é…ç½®

ä¹‹å‰ AI æ˜¯æŠŠåº”ç”¨çš„éƒ¨ç½²åŸŸåå’Œåº”ç”¨ç”Ÿæˆé¢„è§ˆåŸŸåéƒ½å†™æ­»åœ¨äº†ä»£ç ä¸­ï¼Œä¸åˆ©äºåç»­éƒ¨ç½²ä¸Šçº¿ã€‚qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

å¯ä»¥æŠŠè¿™äº›æå–ä¸ºå•ç‹¬çš„ç¯å¢ƒå˜é‡é…ç½®ï¼Œè®© AI å¸®å¿™ä¿®æ”¹ï¼š

```markdown
åº”ç”¨çš„éƒ¨ç½²åŸŸåå’Œåº”ç”¨ç”Ÿæˆé¢„è§ˆåŸŸåå•ç‹¬æå–ä¸ºç¯å¢ƒå˜é‡é…ç½®
```

AI ç”Ÿæˆäº†ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ `env.ts`ï¼Œå¹¶æä¾›äº†è·å–å®Œæ•´ URL çš„å‡½æ•°ï¼šnShO7+0zZStNyiJdnnoFDwT4JyyptzNsRjyXLsolAAU=

```typescript
/**
 * ç¯å¢ƒå˜é‡é…ç½®
 */
// åº”ç”¨éƒ¨ç½²åŸŸå
export const DEPLOY_DOMAIN = import.meta.env.VITE_DEPLOY_DOMAIN || 'http://localhost'

// API åŸºç¡€åœ°å€
export const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8123/api'

// é™æ€èµ„æºåœ°å€
export const STATIC_BASE_URL = `${API_BASE_URL}/static`

// è·å–éƒ¨ç½²åº”ç”¨çš„å®Œæ•´URL
export const getDeployUrl = (deployKey: string) => {
  return `${DEPLOY_DOMAIN}/${deployKey}`
}

// è·å–é™æ€èµ„æºé¢„è§ˆURL
export const getStaticPreviewUrl = (codeGenType: string, appId: string) => {
  return `${STATIC_BASE_URL}/${codeGenType}_${appId}/`
}
```

ç›¸å…³æ–‡ä»¶ç›´æ¥ä½¿ç”¨ `getDeployUrl` å’Œ `getStaticPreviewUrl` è·å–åœ°å€å³å¯ï¼Œ`request.ts` ä¹Ÿè¦æ”¹ä¸ºä½¿ç”¨ `API_BASE_URL` ä½œä¸ºè¯·æ±‚åŸŸåå‰ç¼€ã€‚

AI è¿˜ç”Ÿæˆäº†ç¯å¢ƒå˜é‡é…ç½®è¯´æ˜ï¼šdWCTYpHEFA/xV8BrvOpKRqkO1d88b9Ip8VkvBeLuZho=

```markdown
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .env.local æˆ– .env.development æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

# åº”ç”¨éƒ¨ç½²åŸŸå
VITE_DEPLOY_DOMAIN=http://localhost

# API åŸºç¡€åœ°å€
VITE_API_BASE_URL=http://localhost:8123/api

ç”Ÿäº§ç¯å¢ƒå¯ä»¥åˆ›å»º .env.production æ–‡ä»¶ï¼š

# ç”Ÿäº§ç¯å¢ƒé…ç½®ç¤ºä¾‹
VITE_DEPLOY_DOMAIN=https://your-domain.com
VITE_API_BASE_URL=https://api.your-domain.com
```

æŒ‰ç…§è¯´æ˜ï¼Œæˆ‘ä»¬åœ¨å‰ç«¯æ ¹ç›®å½•ä¸‹æ–°å»ºå¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ `.env.development`ï¼š

```markdown
VITE_DEPLOY_DOMAIN=http://localhost

VITE_API_BASE_URL=http://localhost:8123/api
```

æ¶‰åŠçš„æ–‡ä»¶ä¿®æ”¹å¦‚å›¾ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/ti9sZmMSSpPGc636.webp)

#### 5ã€ä¼˜åŒ–æ ·å¼ï¼Œå¹¶ç§»é™¤å¤šä½™çš„åŠŸèƒ½

è¦ä¼˜åŒ–çš„æ ·å¼æ¯”è¾ƒå¤šï¼Œä½†æ¯ä¸€ç‚¹æ”¹åŠ¨éƒ½ä¸å¤§ï¼Œæ‰€ä»¥ç›´æ¥è®© AI ä¸€æŠŠæ¢­ï¼š

```markdown
ä¼˜åŒ–ç½‘ç«™çš„æ ·å¼ï¼Œå¹¶ç§»é™¤å¤šä½™çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

1ï¼‰ä¸»é¡µå¢åŠ å……æ»¡ç§‘æŠ€æ„Ÿçš„æ¸å˜è‰²èƒŒæ™¯ï¼Œå®½åº¦â  100%ï¼Œä¸»é¡µå…¶ä»–å…ƒç´ æ ·â å¼é…åˆä¿®æ”¹
2ï¼‰ç§»é™¤ä¸»é¡µ SLOGAN ä½ç½®çš„èƒŒæ™¯ï¼ŒSLOGAN ä¿®æ”¹ä¸ºï¼š
- ä¸»æ ‡è¯­ï¼šAI åº”ç”¨ç”Ÿæˆå¹³å°
- å‰¯æ ‡è¯­ï¼šä¸€å¥è¯è½»æ¾åˆ›å»ºç½‘ç«™åº”ç”¨
3ï¼‰ä¼˜åŒ–ä¸»é¡µè¾“å…¥æ¡†çš„å±•ç¤ºæ•ˆæœï¼Œç§»é™¤å¤šä½™çš„è¾¹æ¡†å’Œ â€œä¼˜åŒ–â€ æŒ‰é’®ï¼Œè¾“å…¥æ¡†çš„æç¤ºè¯­æ”¹ä¸º â€œå¸®æˆ‘åˆ›å»ºä¸ªäººåšå®¢ç½‘ç«™â€
4ï¼‰åº”ç”¨å¯¹â è¯é¡µé¢ç§»é™¤å¸ƒå±€ä¸­å¤šä½™çš„é—´è·ï¼Œè®©é¡µé¢çœ‹èµ·æ¥æ›´ç²¾ç®€ï¼Œå·¦ä¾§å¯¹è¯åŒºåŸŸå’Œå³ä¾§ç½‘ç«™å±•ç¤ºåŒºåŸŸçš„â å®½åº¦æ¯”ä¾‹ä¸º 2:3
5ï¼‰åº”ç”¨å¯¹è¯é¡µé¢çš„è¾“å…¥æ¡†æç¤ºè¯­æ”¹ä¸º â€œè¯·æè¿°ä½ æƒ³ç”Ÿæˆçš„ç½‘ç«™ï¼Œè¶Šè¯¦ç»†æ•ˆæœè¶Šå¥½å“¦â€
6ï¼‰æ›´æ¢ä¸»é¡µçš„ 4 ä¸ªå¿«æ·æç¤ºè¯ç¤ºä¾‹ï¼Œæ”¹ä¸ºå‡ ä¸ªå¸¸è§çš„ç½‘ç«™ç”Ÿæˆéœ€æ±‚ï¼Œæ¯ä¸ªç¤ºä¾‹å¯¹åº”çš„æç¤ºè¯æ›´å…·ä½“ä¸€äº›ï¼Œå¤§æ¦‚ 100 å­—å·¦å³
```

ğŸ’¡ æ‰¾æ¸å˜è‰²å¯ä»¥è¯•è¯• [è¿™ä¸ªç½‘ç«™](https://color.oulu.me/)qo3wYiJtEuojZDmpW2HRDEwGWUH1DzVFQ47Zs4YmYuk=

#### 6ã€ä¼˜åŒ–ä»£ç 

å¯¹äºæœ‰ä¸€å®šä½“é‡ã€åŠŸèƒ½è¾ƒå¤šçš„é¡¹ç›®ï¼Œå»ºè®®åœ¨ AI ç”Ÿæˆä»£ç åï¼Œè®©å®ƒå¯¹ä»£ç è´¨é‡è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶ä¸”é‡å¤çš„ä»£ç å¯ä»¥æŠ½è±¡ä¸ºç»„ä»¶ï¼Œä¾¿äºé¡¹ç›®çš„ç»´æŠ¤ã€‚

ç›´æ¥è®© AI æ¥åˆ†æï¼šcZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

```markdown
è¯·æ£€æŸ¥æ•´ä¸ªå‰ç«¯é¡¹ç›®ä¸­çš„ä»£ç ï¼Œâ å°†é‡å¤çš„å†…å®¹ã€æˆ–è€…â é€‚åˆç‹¬ç«‹ç¼–å†™çš„å†…å®¹æŠ½è±¡ä¸ºç»„ä»¶ä»¥å¤ç”¨ï¼Œæ¯”å¦‚ï¼š
- åº”ç”¨å¡ç‰‡
- åº”ç”¨è¯¦æƒ…å¼¹çª—
- å…¶ä»–éœ€è¦æŠ½è±¡çš„ç»„ä»¶ã€‚ã€‚ã€‚

å¹¶ä¸”ç§»é™¤æ²¡ç”¨åˆ°çš„å¤šä½™ä»£ç 
```

AI ç”Ÿæˆäº†ä»»åŠ¡åˆ—è¡¨ï¼Œè¿™ä¹Ÿæ˜¯ç°åœ¨çš„ Agent åŸºæœ¬éƒ½æœ‰çš„ç‰¹æ€§ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªä»»åŠ¡åˆ—è¡¨æ¥æ£€æŸ¥ AI çš„æ„å›¾æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚

![](https://pic.code-nav.cn/course_picture/1608440217629360130/fASfZKiJOxjPw6uA.webp)dWCTYpHEFA/xV8BrvOpKRqkO1d88b9Ip8VkvBeLuZho=

## ä¸ƒã€æˆæœå±•ç¤º

ç»è¿‡å¼€å‘ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç®€å•çš„å¯¹è¯åˆ›å»ºç½‘ç«™åº”ç”¨ã€å®æ—¶æŸ¥çœ‹ç”Ÿæˆæ•ˆæœã€å¹¶ä¸€é”®éƒ¨ç½²ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ ¸å¿ƒæµç¨‹è‡³æ­¤å°±å¼€å‘å®Œæˆäº†ã€‚

ä¸»é¡µï¼šp+CfRPZxNEuU7hG8dzfPcN4R10eC9eypGHmTaRf/x7c=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/yRQHT3CoVhd7z6eE.webp)

æŸ¥çœ‹ç²¾é€‰åº”ç”¨ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/u8Jb6EQuNcDF7MKP.webp)1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

å¯¹è¯é¡µé¢ï¼Œç”Ÿæˆç½‘ç«™åå¯ä»¥å®æ—¶æŸ¥çœ‹æ•ˆæœï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/gJoyYrptmz4ykgSF.webp)

éƒ¨ç½²åº”ç”¨ï¼š1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/IXmqxee1qIhuuVh9.webp)

æŸ¥çœ‹åº”ç”¨è¯¦æƒ…ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/iYA98rJGOTKFzNkm.webp)F+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

ç¼–è¾‘åº”ç”¨ä¿¡æ¯ï¼š

![](https://pic.code-nav.cn/course_picture/1608440217629360130/Wddh5AEZnaFLEpiQ.webp)

ç®¡ç†åº”ç”¨ï¼šdWCTYpHEFA/xV8BrvOpKRqkO1d88b9Ip8VkvBeLuZho=

![](https://pic.code-nav.cn/course_picture/1608440217629360130/y251KfSEWnQSxDAN.webp)

## å…«ã€æ‰©å±•æ€è·¯

é€šè¿‡æœ¬èŠ‚å¼€å‘ï¼Œæˆ‘ä»¬å»ºç«‹äº†å®Œæ•´çš„åº”ç”¨ç®¡ç†ä½“ç³»ï¼Œä½†è¿˜æœ‰å¾ˆå¤šå¯ä»¥ä¼˜åŒ–å’Œæ‰©å±•çš„æ–¹å‘ï¼šUzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

#### 1ã€åº”ç”¨ç‰ˆæœ¬åŒ–ç®¡ç†

åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œç”¨æˆ·å¾€å¾€éœ€è¦å¯¹ç”Ÿæˆçš„åº”ç”¨è¿›è¡Œå¤šæ¬¡è¿­ä»£å’Œä¿®æ”¹ã€‚å¯ä»¥å¼•å…¥ç‰ˆæœ¬åŒ–ç®¡ç†æœºåˆ¶ï¼š

-   ä¸ºæ¯ä¸ªåº”ç”¨å¢åŠ ç‰ˆæœ¬å·å­—æ®µï¼Œæ¯æ¬¡ AI ç”Ÿæˆæ–°çš„ä»£ç æ—¶è‡ªåŠ¨é€’å¢ç‰ˆæœ¬å·
-   ä¿å­˜æ¯ä¸ªç‰ˆæœ¬å¯¹åº”çš„ä»£ç æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥éšæ—¶å›é€€åˆ°å†å²ç‰ˆæœ¬
-   æä¾›ç‰ˆæœ¬å¯¹æ¯”åŠŸèƒ½ï¼Œè®©ç”¨æˆ·æ¸…æ¥šåœ°çœ‹åˆ°ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ï¼ˆç±»ä¼¼ä¸‹å›¾çš„æ•ˆæœï¼‰

![](https://pic.code-nav.cn/course_picture/1608440217629360130/EvHoG8sdxCggHv3Q.webp)

#### 2ã€AI ç”Ÿæˆåº”ç”¨åç§°

å½“ç”¨æˆ·åˆ›å»ºåº”ç”¨æ—¶ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„åˆå§‹æè¿°è‡ªåŠ¨ç”Ÿæˆåˆé€‚çš„åº”ç”¨åç§°ï¼Œæå‡ä½“éªŒã€‚EVevk6+j/BC/ssKO5aUZF8Rusnkp1o/HghJkPkRChGQ=

#### 3ã€åº”ç”¨å¯è§èŒƒå›´

ä¸ºäº†æ›´å¥½åœ°ä¿æŠ¤ç”¨æˆ·éšç§ï¼š

-   å¢åŠ å¯è§èŒƒå›´å­—æ®µï¼Œæ”¯æŒå…¬å¼€ã€ç§æœ‰ç­‰å¤šç§æƒé™è®¾ç½®
-   æ™®é€šç”¨æˆ·åªèƒ½çœ‹åˆ°åˆ«äººå…¬å¼€çš„åº”ç”¨ï¼Œç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åº”ç”¨

#### 4ã€åº”ç”¨åˆ†ç±»å’Œæ£€ç´¢ä¼˜åŒ–

1ï¼‰æ ‡ç­¾ç³»ç»Ÿï¼šç»™åº”ç”¨å¢åŠ æ ‡ç­¾åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ä¸ºè‡ªå·±çš„åº”ç”¨æ·»åŠ æ ‡ç­¾ï¼Œå…¶ä»–ç”¨æˆ·å¯ä»¥é€šè¿‡æ ‡ç­¾ç­›é€‰æ„Ÿå…´è¶£çš„åº”ç”¨ç±»å‹ã€‚

2ï¼‰æœç´¢ä¼˜åŒ–ï¼šæ”¯æŒè®©ç”¨æˆ·æ ¹æ®åº”ç”¨åç§°ã€æè¿°ã€æ ‡ç­¾ç­‰å¤šç»´åº¦æœç´¢åº”ç”¨ï¼Œç”šè‡³å¼•å…¥ ES ä¼˜åŒ–æœç´¢æ•ˆæœï¼Œä½†æ˜¯æ³¨æ„æ§åˆ¶å¯è§åº”ç”¨æ•°é‡ï¼ˆé˜²æ­¢çˆ¬è™«ï¼‰ã€‚1vM0bC71h2RCfUkazMGszlP9tIpAZTvdkFrdc8O6/+w=

#### 5ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–

1ï¼‰AI ç”Ÿæˆæ§åˆ¶ï¼šæ”¯æŒæ‰‹åŠ¨åœæ­¢ AI ç”Ÿæˆè¿‡ç¨‹ï¼Œé¿å…ç”¨æˆ·åœ¨ä¸æ»¡æ„å½“å‰ç”Ÿæˆå†…å®¹æ—¶è¿˜éœ€è¦ç­‰å¾…å®Œæˆã€‚éœ€è¦å‰åç«¯é…åˆï¼Œå‰ç«¯å‘é€ç»™åç«¯ä¸€ä¸ªäº‹ä»¶ï¼Œåç«¯ä¸­æ–­æ‰å½“å‰è¾“å‡ºï¼ˆå¯èƒ½æ¶‰åŠåˆ°æ·±å…¥ AI Flux æµå»ä¸­æ–­ï¼‰ã€‚

2ï¼‰éƒ¨ç½²æ§åˆ¶ï¼šå¯ä»¥æ§åˆ¶åº”ç”¨çš„éƒ¨ç½²å¼€å¯å’Œæš‚åœï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿçµæ´»ç®¡ç†åº”ç”¨çš„åœ¨çº¿çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å–æ¶ˆéƒ¨ç½²ï¼ˆä¸‹çº¿ï¼‰ã€‚F+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=

3ï¼‰åº”ç”¨ç”ŸæˆçŠ¶æ€ï¼šå¢åŠ ç”ŸæˆçŠ¶æ€å­—æ®µï¼Œè®°å½•åº”ç”¨æ˜¯å¦ç”Ÿæˆå®Œæˆã€æ­£åœ¨ç”Ÿæˆä¸­ç­‰çŠ¶æ€ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå®æ—¶äº†è§£åº”ç”¨çš„ç”Ÿæˆè¿›åº¦ã€‚

#### 6ã€ç²¾é€‰ç½®é¡¶

1ï¼‰ç”³è¯·ç²¾é€‰ï¼šæä¾›ç”¨æˆ·ç”³è¯·ç²¾é€‰åŠŸèƒ½ï¼Œä¼˜è´¨åº”ç”¨å¯ä»¥ç”³è¯·è¢«å¹³å°æ¨èå±•ç¤ºUzapLzatIvJJsWWs1pRz7879eXluI/+jA6d4qBCHuKE=

2ï¼‰åº”ç”¨ç½®é¡¶ï¼šå¢åŠ åº”ç”¨ç½®é¡¶åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ä¼˜å…ˆçº§å­—æ®µï¼ˆå¦‚ Priority ä¸º 999ï¼‰æ¥å®ç°é‡è¦åº”ç”¨çš„ä¼˜å…ˆå±•ç¤ºã€‚

#### 7ã€å…¶ä»–

1ï¼‰æ•°æ®æ¸…ç†ï¼šåˆ é™¤åº”ç”¨æ—¶ï¼Œå…³è”åˆ é™¤ AI ç”Ÿæˆçš„æ–‡ä»¶å’Œç›¸å…³æ•°æ®ï¼Œé¿å…åƒåœ¾æ•°æ®å †ç§¯ã€‚cZq9/nGwbRXl38gxWuOGAJfnulyo9Sx2vt9GhAJuMwQ=

F+kzRHG1248BgN91hBPqtNxbML3nLzvb0nw4jU7NTyI=
